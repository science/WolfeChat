(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function H(){}function mt(r,e){for(const t in e)r[t]=e[t];return r}function ro(r){return r()}function rr(){return Object.create(null)}function Ve(r){r.forEach(ro)}function Ps(r){return typeof r=="function"}function pe(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let pn;function De(r,e){return pn||(pn=document.createElement("a")),pn.href=e,r===pn.href}function Ho(r){return Object.keys(r).length===0}function Rs(r,...e){if(r==null)return H;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function B(r){let e;return Rs(r,t=>e=t)(),e}function de(r,e,t){r.$$.on_destroy.push(Rs(e,t))}function xe(r,e,t,n){if(r){const s=io(r,e,t,n);return r[0](s)}}function io(r,e,t,n){return r[1]&&n?mt(t.ctx.slice(),r[1](n(e))):t.ctx}function Pe(r,e,t,n){if(r[2]&&n){const s=r[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let l=0;l<o;l+=1)i[l]=e.dirty[l]|s[l];return i}return e.dirty|s}return e.dirty}function Re(r,e,t,n,s,i){if(s){const o=io(e,t,n,i);r.p(o,s)}}function Fe(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Go(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function ir(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function g(r,e){r.appendChild(e)}function x(r,e,t){r.insertBefore(e,t||null)}function E(r){r.parentNode&&r.parentNode.removeChild(r)}function nt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function y(r){return document.createElement(r)}function Jo(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function X(r){return document.createTextNode(r)}function $(){return X(" ")}function Ae(){return X("")}function Y(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function kn(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function h(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Yo(r){return Array.from(r.childNodes)}function be(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function tt(r,e){r.value=e??""}function gt(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Ze(r,e){for(let t=0;t<r.options.length;t+=1){const n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function St(r){const e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Zo(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(r,t,n,e),s}class Wo{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Jo(t.nodeName):this.e=y(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)x(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}}function $e(r,e){return new r(e)}let Kt;function Jt(r){Kt=r}function Ut(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function rn(r){Ut().$$.on_mount.push(r)}function Qo(r){Ut().$$.after_update.push(r)}function Ko(r){Ut().$$.on_destroy.push(r)}function on(){const r=Ut();return(e,t,{cancelable:n=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=Zo(e,t,{cancelable:n});return s.slice().forEach(o=>{o.call(r,i)}),!i.defaultPrevented}return!0}}function Xo(r,e){return Ut().$$.context.set(r,e),e}function el(r){return Ut().$$.context.get(r)}const jt=[],lt=[],_n=[],fs=[],tl=Promise.resolve();let ds=!1;function nl(){ds||(ds=!0,tl.then(oo))}function ut(r){_n.push(r)}function sl(r){fs.push(r)}const Vn=new Set;let Ft=0;function oo(){if(Ft!==0)return;const r=Kt;do{try{for(;Ft<jt.length;){const e=jt[Ft];Ft++,Jt(e),rl(e.$$)}}catch(e){throw jt.length=0,Ft=0,e}for(Jt(null),jt.length=0,Ft=0;lt.length;)lt.pop()();for(let e=0;e<_n.length;e+=1){const t=_n[e];Vn.has(t)||(Vn.add(t),t())}_n.length=0}while(jt.length);for(;fs.length;)fs.pop()();ds=!1,Vn.clear(),Jt(r)}function rl(r){if(r.fragment!==null){r.update(),Ve(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ut)}}const bn=new Set;let At;function we(){At={r:0,c:[],p:At}}function ve(){At.r||Ve(At.c),At=At.p}function R(r,e){r&&r.i&&(bn.delete(r),r.i(e))}function F(r,e,t,n){if(r&&r.o){if(bn.has(r))return;bn.add(r),At.c.push(()=>{bn.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const il=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function lo(r,e){r.d(1),e.delete(r.key)}function ao(r,e,t,n,s,i,o,l,a,u,c,f){let d=r.length,p=i.length,k=d;const v={};for(;k--;)v[r[k].key]=k;const _=[],T=new Map,m=new Map;for(k=p;k--;){const A=f(s,i,k),P=t(A);let I=o.get(P);I?n&&I.p(A,e):(I=u(P,A),I.c()),T.set(P,_[k]=I),P in v&&m.set(P,Math.abs(k-v[P]))}const w=new Set,b=new Set;function S(A){R(A,1),A.m(l,c),o.set(A.key,A),c=A.first,p--}for(;d&&p;){const A=_[p-1],P=r[d-1],I=A.key,O=P.key;A===P?(c=A.first,d--,p--):T.has(O)?!o.has(I)||w.has(I)?S(A):b.has(O)?d--:m.get(I)>m.get(O)?(b.add(I),S(A)):(w.add(O),d--):(a(P,o),d--)}for(;d--;){const A=r[d];T.has(A.key)||a(A,o)}for(;p;)S(_[p-1]);return _}function Lt(r,e){const t={},n={},s={$$scope:1};let i=r.length;for(;i--;){const o=r[i],l=e[i];if(l){for(const a in o)a in l||(n[a]=1);for(const a in l)s[a]||(t[a]=l[a],s[a]=1);r[i]=l}else for(const a in o)s[a]=1}for(const o in n)o in t||(t[o]=void 0);return t}function Bt(r){return typeof r=="object"&&r!==null?r:{}}function ol(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function ue(r){r&&r.c()}function oe(r,e,t,n){const{fragment:s,after_update:i}=r.$$;s&&s.m(e,t),n||ut(()=>{const o=r.$$.on_mount.map(ro).filter(Ps);r.$$.on_destroy?r.$$.on_destroy.push(...o):Ve(o),r.$$.on_mount=[]}),i.forEach(ut)}function le(r,e){const t=r.$$;t.fragment!==null&&(Ve(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ll(r,e){r.$$.dirty[0]===-1&&(jt.push(r),nl(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ge(r,e,t,n,s,i,o,l=[-1]){const a=Kt;Jt(r);const u=r.$$={fragment:null,ctx:[],props:i,update:H,not_equal:s,bound:rr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:rr(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(r,e.props||{},(f,d,...p)=>{const k=p.length?p[0]:d;return u.ctx&&s(u.ctx[f],u.ctx[f]=k)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](k),c&&ll(r,f)),d}):[],u.update(),c=!0,Ve(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=Yo(e.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&R(r.$$.fragment),oe(r,e.target,e.anchor,e.customElement),oo()}Jt(a)}class me{$destroy(){le(this,1),this.$destroy=H}$on(e,t){if(!Ps(t))return H;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ho(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const It=[];function al(r,e){return{subscribe:Te(r,e).subscribe}}function Te(r,e=H){let t;const n=new Set;function s(l){if(pe(r,l)&&(r=l,t)){const a=!It.length;for(const u of n)u[1](),It.push(u,r);if(a){for(let u=0;u<It.length;u+=2)It[u][0](It[u+1]);It.length=0}}}function i(l){s(l(r))}function o(l,a=H){const u=[l,a];return n.add(u),n.size===1&&(t=e(s)||H),l(r),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function or(r,e,t){const n=!Array.isArray(r),s=n?[r]:r,i=e.length<2;return al(t,o=>{let l=!1;const a=[];let u=0,c=H;const f=()=>{if(u)return;c();const p=e(n?a[0]:a,o);i?o(p):c=Ps(p)?p:H},d=s.map((p,k)=>Rs(p,v=>{a[k]=v,u&=~(1<<k),l&&f()},()=>{u|=1<<k}));return l=!0,f(),function(){Ve(d),c()}})}var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ps={},uo={},Sn={},ul={get exports(){return Sn},set exports(r){Sn=r}},An={},cl={get exports(){return An},set exports(r){An=r}},co=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}},fl=co,wt=Object.prototype.toString;function Fs(r){return Array.isArray(r)}function hs(r){return typeof r>"u"}function dl(r){return r!==null&&!hs(r)&&r.constructor!==null&&!hs(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function fo(r){return wt.call(r)==="[object ArrayBuffer]"}function pl(r){return wt.call(r)==="[object FormData]"}function hl(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&fo(r.buffer),e}function gl(r){return typeof r=="string"}function ml(r){return typeof r=="number"}function po(r){return r!==null&&typeof r=="object"}function yn(r){if(wt.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function _l(r){return wt.call(r)==="[object Date]"}function bl(r){return wt.call(r)==="[object File]"}function yl(r){return wt.call(r)==="[object Blob]"}function ho(r){return wt.call(r)==="[object Function]"}function wl(r){return po(r)&&ho(r.pipe)}function vl(r){return wt.call(r)==="[object URLSearchParams]"}function kl(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Sl(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Is(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Fs(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.call(null,r[s],s,r)}function gs(){var r={};function e(s,i){yn(r[i])&&yn(s)?r[i]=gs(r[i],s):yn(s)?r[i]=gs({},s):Fs(s)?r[i]=s.slice():r[i]=s}for(var t=0,n=arguments.length;t<n;t++)Is(arguments[t],e);return r}function Al(r,e,t){return Is(e,function(s,i){t&&typeof s=="function"?r[i]=fl(s,t):r[i]=s}),r}function Tl(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var We={isArray:Fs,isArrayBuffer:fo,isBuffer:dl,isFormData:pl,isArrayBufferView:hl,isString:gl,isNumber:ml,isObject:po,isPlainObject:yn,isUndefined:hs,isDate:_l,isFile:bl,isBlob:yl,isFunction:ho,isStream:wl,isURLSearchParams:vl,isStandardBrowserEnv:Sl,forEach:Is,merge:gs,extend:Al,trim:kl,stripBOM:Tl},$t=We;function lr(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var go=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if($t.isURLSearchParams(t))s=t.toString();else{var i=[];$t.forEach(t,function(a,u){a===null||typeof a>"u"||($t.isArray(a)?u=u+"[]":a=[a],$t.forEach(a,function(f){$t.isDate(f)?f=f.toISOString():$t.isObject(f)&&(f=JSON.stringify(f)),i.push(lr(u)+"="+lr(f))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},Ol=We;function Pn(){this.handlers=[]}Pn.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Pn.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Pn.prototype.forEach=function(e){Ol.forEach(this.handlers,function(n){n!==null&&e(n)})};var El=Pn,xl=We,Pl=function(e,t){xl.forEach(e,function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])})},mo=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},_o={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zn,ar;function bo(){if(ar)return zn;ar=1;var r=mo;return zn=function(t,n,s,i,o){var l=new Error(t);return r(l,n,s,i,o)},zn}var qn,ur;function Rl(){if(ur)return qn;ur=1;var r=bo();return qn=function(t,n,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):n(r("Request failed with status code "+s.status,s.config,null,s.request,s))},qn}var Hn,cr;function Fl(){if(cr)return Hn;cr=1;var r=We;return Hn=r.isStandardBrowserEnv()?function(){return{write:function(n,s,i,o,l,a){var u=[];u.push(n+"="+encodeURIComponent(s)),r.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),r.isString(o)&&u.push("path="+o),r.isString(l)&&u.push("domain="+l),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Hn}var Gn,fr;function Il(){return fr||(fr=1,Gn=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Gn}var Jn,dr;function $l(){return dr||(dr=1,Jn=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),Jn}var Yn,pr;function Cl(){if(pr)return Yn;pr=1;var r=Il(),e=$l();return Yn=function(n,s){return n&&!r(s)?e(n,s):s},Yn}var Zn,hr;function jl(){if(hr)return Zn;hr=1;var r=We,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Zn=function(n){var s={},i,o,l;return n&&r.forEach(n.split(`
`),function(u){if(l=u.indexOf(":"),i=r.trim(u.substr(0,l)).toLowerCase(),o=r.trim(u.substr(l+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},Zn}var Wn,gr;function Ml(){if(gr)return Wn;gr=1;var r=We;return Wn=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function i(o){var l=o;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(l){var a=r.isString(l)?i(l):l;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),Wn}var Qn,mr;function Rn(){if(mr)return Qn;mr=1;function r(e){this.message=e}return r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,Qn=r,Qn}var Kn,_r;function br(){if(_r)return Kn;_r=1;var r=We,e=Rl(),t=Fl(),n=go,s=Cl(),i=jl(),o=Ml(),l=bo(),a=_o,u=Rn();return Kn=function(f){return new Promise(function(p,k){var v=f.data,_=f.headers,T=f.responseType,m;function w(){f.cancelToken&&f.cancelToken.unsubscribe(m),f.signal&&f.signal.removeEventListener("abort",m)}r.isFormData(v)&&delete _["Content-Type"];var b=new XMLHttpRequest;if(f.auth){var S=f.auth.username||"",A=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.Authorization="Basic "+btoa(S+":"+A)}var P=s(f.baseURL,f.url);b.open(f.method.toUpperCase(),n(P,f.params,f.paramsSerializer),!0),b.timeout=f.timeout;function I(){if(b){var M="getAllResponseHeaders"in b?i(b.getAllResponseHeaders()):null,L=!T||T==="text"||T==="json"?b.responseText:b.response,N={data:L,status:b.status,statusText:b.statusText,headers:M,config:f,request:b};e(function(D){p(D),w()},function(D){k(D),w()},N),b=null}}if("onloadend"in b?b.onloadend=I:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(I)},b.onabort=function(){b&&(k(l("Request aborted",f,"ECONNABORTED",b)),b=null)},b.onerror=function(){k(l("Network Error",f,null,b)),b=null},b.ontimeout=function(){var L=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",N=f.transitional||a;f.timeoutErrorMessage&&(L=f.timeoutErrorMessage),k(l(L,f,N.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},r.isStandardBrowserEnv()){var O=(f.withCredentials||o(P))&&f.xsrfCookieName?t.read(f.xsrfCookieName):void 0;O&&(_[f.xsrfHeaderName]=O)}"setRequestHeader"in b&&r.forEach(_,function(L,N){typeof v>"u"&&N.toLowerCase()==="content-type"?delete _[N]:b.setRequestHeader(N,L)}),r.isUndefined(f.withCredentials)||(b.withCredentials=!!f.withCredentials),T&&T!=="json"&&(b.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&b.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(m=function(M){b&&(k(!M||M&&M.type?new u("canceled"):M),b.abort(),b=null)},f.cancelToken&&f.cancelToken.subscribe(m),f.signal&&(f.signal.aborted?m():f.signal.addEventListener("abort",m))),v||(v=null),b.send(v)})},Kn}var ze=We,yr=Pl,Dl=mo,Ul=_o,Ll={"Content-Type":"application/x-www-form-urlencoded"};function wr(r,e){!ze.isUndefined(r)&&ze.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function Bl(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=br()),r}function Nl(r,e,t){if(ze.isString(r))try{return(e||JSON.parse)(r),ze.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var Fn={transitional:Ul,adapter:Bl(),transformRequest:[function(e,t){return yr(t,"Accept"),yr(t,"Content-Type"),ze.isFormData(e)||ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)?e:ze.isArrayBufferView(e)?e.buffer:ze.isURLSearchParams(e)?(wr(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ze.isObject(e)||t&&t["Content-Type"]==="application/json"?(wr(t,"application/json"),Nl(e)):e}],transformResponse:[function(e){var t=this.transitional||Fn.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||s&&ze.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Dl(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ze.forEach(["delete","get","head"],function(e){Fn.headers[e]={}});ze.forEach(["post","put","patch"],function(e){Fn.headers[e]=ze.merge(Ll)});var $s=Fn,Vl=We,zl=$s,ql=function(e,t,n){var s=this||zl;return Vl.forEach(n,function(o){e=o.call(s,e,t)}),e},Xn,vr;function yo(){return vr||(vr=1,Xn=function(e){return!!(e&&e.__CANCEL__)}),Xn}var kr=We,es=ql,Hl=yo(),Gl=$s,Jl=Rn();function ts(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Jl("canceled")}var Yl=function(e){ts(e),e.headers=e.headers||{},e.data=es.call(e,e.data,e.headers,e.transformRequest),e.headers=kr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),kr.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||Gl.adapter;return t(e).then(function(s){return ts(e),s.data=es.call(e,s.data,s.headers,e.transformResponse),s},function(s){return Hl(s)||(ts(e),s&&s.response&&(s.response.data=es.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},Ke=We,wo=function(e,t){t=t||{};var n={};function s(c,f){return Ke.isPlainObject(c)&&Ke.isPlainObject(f)?Ke.merge(c,f):Ke.isPlainObject(f)?Ke.merge({},f):Ke.isArray(f)?f.slice():f}function i(c){if(Ke.isUndefined(t[c])){if(!Ke.isUndefined(e[c]))return s(void 0,e[c])}else return s(e[c],t[c])}function o(c){if(!Ke.isUndefined(t[c]))return s(void 0,t[c])}function l(c){if(Ke.isUndefined(t[c])){if(!Ke.isUndefined(e[c]))return s(void 0,e[c])}else return s(void 0,t[c])}function a(c){if(c in t)return s(e[c],t[c]);if(c in e)return s(void 0,e[c])}var u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a};return Ke.forEach(Object.keys(e).concat(Object.keys(t)),function(f){var d=u[f]||i,p=d(f);Ke.isUndefined(p)&&d!==a||(n[f]=p)}),n},ns,Sr;function vo(){return Sr||(Sr=1,ns={version:"0.26.1"}),ns}var Zl=vo().version,Cs={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){Cs[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var Ar={};Cs.transitional=function(e,t,n){function s(i,o){return"[Axios v"+Zl+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return function(i,o,l){if(e===!1)throw new Error(s(o," has been removed"+(t?" in "+t:"")));return t&&!Ar[o]&&(Ar[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,l):!0}};function Wl(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),s=n.length;s-- >0;){var i=n[s],o=e[i];if(o){var l=r[i],a=l===void 0||o(l,i,r);if(a!==!0)throw new TypeError("option "+i+" must be "+a);continue}if(t!==!0)throw Error("Unknown option "+i)}}var Ql={assertOptions:Wl,validators:Cs},ko=We,Kl=go,Tr=El,Or=Yl,In=wo,So=Ql,Ct=So.validators;function ln(r){this.defaults=r,this.interceptors={request:new Tr,response:new Tr}}ln.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=In(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&So.assertOptions(n,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(i=i&&p.synchronous,s.unshift(p.fulfilled,p.rejected))});var o=[];this.interceptors.response.forEach(function(p){o.push(p.fulfilled,p.rejected)});var l;if(!i){var a=[Or,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(o),l=Promise.resolve(t);a.length;)l=l.then(a.shift(),a.shift());return l}for(var u=t;s.length;){var c=s.shift(),f=s.shift();try{u=c(u)}catch(d){f(d);break}}try{l=Or(u)}catch(d){return Promise.reject(d)}for(;o.length;)l=l.then(o.shift(),o.shift());return l};ln.prototype.getUri=function(e){return e=In(this.defaults,e),Kl(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};ko.forEach(["delete","get","head","options"],function(e){ln.prototype[e]=function(t,n){return this.request(In(n||{},{method:e,url:t,data:(n||{}).data}))}});ko.forEach(["post","put","patch"],function(e){ln.prototype[e]=function(t,n,s){return this.request(In(s||{},{method:e,url:t,data:n}))}});var Xl=ln,ss,Er;function ea(){if(Er)return ss;Er=1;var r=Rn();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var s=this;this.promise.then(function(i){if(s._listeners){var o,l=s._listeners.length;for(o=0;o<l;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,l=new Promise(function(a){s.subscribe(a),o=a}).then(i);return l.cancel=function(){s.unsubscribe(o)},l},t(function(o){s.reason||(s.reason=new r(o),n(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var n,s=new e(function(o){n=o});return{token:s,cancel:n}},ss=e,ss}var rs,xr;function ta(){return xr||(xr=1,rs=function(e){return function(n){return e.apply(null,n)}}),rs}var is,Pr;function na(){if(Pr)return is;Pr=1;var r=We;return is=function(t){return r.isObject(t)&&t.isAxiosError===!0},is}var Rr=We,sa=co,wn=Xl,ra=wo,ia=$s;function Ao(r){var e=new wn(r),t=sa(wn.prototype.request,e);return Rr.extend(t,wn.prototype,e),Rr.extend(t,e),t.create=function(s){return Ao(ra(r,s))},t}var pt=Ao(ia);pt.Axios=wn;pt.Cancel=Rn();pt.CancelToken=ea();pt.isCancel=yo();pt.VERSION=vo().version;pt.all=function(e){return Promise.all(e)};pt.spread=ta();pt.isAxiosError=na();cl.exports=pt;An.default=pt;(function(r){r.exports=An})(ul);var je={},js={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequiredError=r.BaseAPI=r.COLLECTION_FORMATS=r.BASE_PATH=void 0;const e=Sn;r.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),r.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class t{constructor(i,o=r.BASE_PATH,l=e.default){this.basePath=o,this.axios=l,i&&(this.configuration=i,this.basePath=i.basePath||this.basePath)}}r.BaseAPI=t;class n extends Error{constructor(i,o){super(o),this.field=i,this.name="RequiredError"}}r.RequiredError=n})(js);var Ms=at&&at.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(c){try{u(n.next(c))}catch(f){o(f)}}function a(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(je,"__esModule",{value:!0});je.createRequestFunction=je.toPathString=je.serializeDataIfNeeded=je.setSearchParams=je.setOAuthToObject=je.setBearerAuthToObject=je.setBasicAuthToObject=je.setApiKeyToObject=je.assertParamExists=je.DUMMY_BASE_URL=void 0;const oa=js;je.DUMMY_BASE_URL="https://example.com";je.assertParamExists=function(r,e,t){if(t==null)throw new oa.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${r}.`)};je.setApiKeyToObject=function(r,e,t){return Ms(this,void 0,void 0,function*(){if(t&&t.apiKey){const n=typeof t.apiKey=="function"?yield t.apiKey(e):yield t.apiKey;r[e]=n}})};je.setBasicAuthToObject=function(r,e){e&&(e.username||e.password)&&(r.auth={username:e.username,password:e.password})};je.setBearerAuthToObject=function(r,e){return Ms(this,void 0,void 0,function*(){if(e&&e.accessToken){const t=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;r.Authorization="Bearer "+t}})};je.setOAuthToObject=function(r,e,t,n){return Ms(this,void 0,void 0,function*(){if(n&&n.accessToken){const s=typeof n.accessToken=="function"?yield n.accessToken(e,t):yield n.accessToken;r.Authorization="Bearer "+s}})};function ms(r,e,t=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(n=>ms(r,n,t)):Object.keys(e).forEach(n=>ms(r,e[n],`${t}${t!==""?".":""}${n}`)):r.has(t)?r.append(t,e):r.set(t,e))}je.setSearchParams=function(r,...e){const t=new URLSearchParams(r.search);ms(t,e),r.search=t.toString()};je.serializeDataIfNeeded=function(r,e,t){const n=typeof r!="string";return(n&&t&&t.isJsonMime?t.isJsonMime(e.headers["Content-Type"]):n)?JSON.stringify(r!==void 0?r:{}):r||""};je.toPathString=function(r){return r.pathname+r.search+r.hash};je.createRequestFunction=function(r,e,t,n){return(s=e,i=t)=>{const o=Object.assign(Object.assign({},r.options),{url:(n?.basePath||i)+r.url});return s.request(o)}};(function(r){var e=at&&at.__awaiter||function(o,l,a,u){function c(f){return f instanceof a?f:new a(function(d){d(f)})}return new(a||(a=Promise))(function(f,d){function p(_){try{v(u.next(_))}catch(T){d(T)}}function k(_){try{v(u.throw(_))}catch(T){d(T)}}function v(_){_.done?f(_.value):c(_.value).then(p,k)}v((u=u.apply(o,l||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.OpenAIApi=r.OpenAIApiFactory=r.OpenAIApiFp=r.OpenAIApiAxiosParamCreator=r.CreateImageRequestResponseFormatEnum=r.CreateImageRequestSizeEnum=r.ChatCompletionResponseMessageRoleEnum=r.ChatCompletionRequestMessageRoleEnum=void 0;const t=Sn,n=je,s=js;r.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},r.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},r.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},r.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},r.OpenAIApiAxiosParamCreator=function(o){return{cancelFineTune:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("cancelFineTune","fineTuneId",l);const u="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),createAnswer:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createAnswer","createAnswerRequest",l);const u="/answers",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createChatCompletion:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createChatCompletion","createChatCompletionRequest",l);const u="/chat/completions",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createClassification:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createClassification","createClassificationRequest",l);const u="/classifications",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createCompletion:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createCompletion","createCompletionRequest",l);const u="/completions",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createEdit:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEdit","createEditRequest",l);const u="/edits",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createEmbedding:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEmbedding","createEmbeddingRequest",l);const u="/embeddings",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createFile:(l,a,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFile","file",l),n.assertParamExists("createFile","purpose",a);const c="/files",f=new URL(c,n.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),k={},v={},_=new(o&&o.formDataCtor||FormData);l!==void 0&&_.append("file",l),a!==void 0&&_.append("purpose",a),k["Content-Type"]="multipart/form-data",n.setSearchParams(f,v);let T=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign(Object.assign({},k),_.getHeaders()),T),u.headers),p.data=_,{url:n.toPathString(f),options:p}}),createFineTune:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFineTune","createFineTuneRequest",l);const u="/fine-tunes",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createImage:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImage","createImageRequest",l);const u="/images/generations",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createImageEdit:(l,a,u,c,f,d,p,k={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageEdit","image",l),n.assertParamExists("createImageEdit","prompt",a);const v="/images/edits",_=new URL(v,n.DUMMY_BASE_URL);let T;o&&(T=o.baseOptions);const m=Object.assign(Object.assign({method:"POST"},T),k),w={},b={},S=new(o&&o.formDataCtor||FormData);l!==void 0&&S.append("image",l),u!==void 0&&S.append("mask",u),a!==void 0&&S.append("prompt",a),c!==void 0&&S.append("n",c),f!==void 0&&S.append("size",f),d!==void 0&&S.append("response_format",d),p!==void 0&&S.append("user",p),w["Content-Type"]="multipart/form-data",n.setSearchParams(_,b);let A=T&&T.headers?T.headers:{};return m.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),S.getHeaders()),A),k.headers),m.data=S,{url:n.toPathString(_),options:m}}),createImageVariation:(l,a,u,c,f,d={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageVariation","image",l);const p="/images/variations",k=new URL(p,n.DUMMY_BASE_URL);let v;o&&(v=o.baseOptions);const _=Object.assign(Object.assign({method:"POST"},v),d),T={},m={},w=new(o&&o.formDataCtor||FormData);l!==void 0&&w.append("image",l),a!==void 0&&w.append("n",a),u!==void 0&&w.append("size",u),c!==void 0&&w.append("response_format",c),f!==void 0&&w.append("user",f),T["Content-Type"]="multipart/form-data",n.setSearchParams(k,m);let b=v&&v.headers?v.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},T),w.getHeaders()),b),d.headers),_.data=w,{url:n.toPathString(k),options:_}}),createModeration:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createModeration","createModerationRequest",l);const u="/moderations",c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),p={},k={};p["Content-Type"]="application/json",n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),d.data=n.serializeDataIfNeeded(l,d,o),{url:n.toPathString(c),options:d}}),createSearch:(l,a,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createSearch","engineId",l),n.assertParamExists("createSearch","createSearchRequest",a);const c="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(l))),f=new URL(c,n.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},d),u),k={},v={};k["Content-Type"]="application/json",n.setSearchParams(f,v);let _=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},k),_),u.headers),p.data=n.serializeDataIfNeeded(a,p,o),{url:n.toPathString(f),options:p}}),createTranscription:(l,a,u,c,f,d,p={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranscription","file",l),n.assertParamExists("createTranscription","model",a);const k="/audio/transcriptions",v=new URL(k,n.DUMMY_BASE_URL);let _;o&&(_=o.baseOptions);const T=Object.assign(Object.assign({method:"POST"},_),p),m={},w={},b=new(o&&o.formDataCtor||FormData);l!==void 0&&b.append("file",l),a!==void 0&&b.append("model",a),u!==void 0&&b.append("prompt",u),c!==void 0&&b.append("response_format",c),f!==void 0&&b.append("temperature",f),d!==void 0&&b.append("language",d),m["Content-Type"]="multipart/form-data",n.setSearchParams(v,w);let S=_&&_.headers?_.headers:{};return T.headers=Object.assign(Object.assign(Object.assign(Object.assign({},m),b.getHeaders()),S),p.headers),T.data=b,{url:n.toPathString(v),options:T}}),createTranslation:(l,a,u,c,f,d={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranslation","file",l),n.assertParamExists("createTranslation","model",a);const p="/audio/translations",k=new URL(p,n.DUMMY_BASE_URL);let v;o&&(v=o.baseOptions);const _=Object.assign(Object.assign({method:"POST"},v),d),T={},m={},w=new(o&&o.formDataCtor||FormData);l!==void 0&&w.append("file",l),a!==void 0&&w.append("model",a),u!==void 0&&w.append("prompt",u),c!==void 0&&w.append("response_format",c),f!==void 0&&w.append("temperature",f),T["Content-Type"]="multipart/form-data",n.setSearchParams(k,m);let b=v&&v.headers?v.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},T),w.getHeaders()),b),d.headers),_.data=w,{url:n.toPathString(k),options:_}}),deleteFile:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteFile","fileId",l);const u="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),deleteModel:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteModel","model",l);const u="/models/{model}".replace("{model}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),downloadFile:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("downloadFile","fileId",l);const u="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),listEngines:(l={})=>e(this,void 0,void 0,function*(){const a="/engines",u=new URL(a,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},c),l),d={},p={};n.setSearchParams(u,p);let k=c&&c.headers?c.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),k),l.headers),{url:n.toPathString(u),options:f}}),listFiles:(l={})=>e(this,void 0,void 0,function*(){const a="/files",u=new URL(a,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},c),l),d={},p={};n.setSearchParams(u,p);let k=c&&c.headers?c.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),k),l.headers),{url:n.toPathString(u),options:f}}),listFineTuneEvents:(l,a,u={})=>e(this,void 0,void 0,function*(){n.assertParamExists("listFineTuneEvents","fineTuneId",l);const c="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(l))),f=new URL(c,n.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},d),u),k={},v={};a!==void 0&&(v.stream=a),n.setSearchParams(f,v);let _=d&&d.headers?d.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},k),_),u.headers),{url:n.toPathString(f),options:p}}),listFineTunes:(l={})=>e(this,void 0,void 0,function*(){const a="/fine-tunes",u=new URL(a,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},c),l),d={},p={};n.setSearchParams(u,p);let k=c&&c.headers?c.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),k),l.headers),{url:n.toPathString(u),options:f}}),listModels:(l={})=>e(this,void 0,void 0,function*(){const a="/models",u=new URL(a,n.DUMMY_BASE_URL);let c;o&&(c=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},c),l),d={},p={};n.setSearchParams(u,p);let k=c&&c.headers?c.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),k),l.headers),{url:n.toPathString(u),options:f}}),retrieveEngine:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveEngine","engineId",l);const u="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),retrieveFile:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFile","fileId",l);const u="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),retrieveFineTune:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFineTune","fineTuneId",l);const u="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}}),retrieveModel:(l,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveModel","model",l);const u="/models/{model}".replace("{model}",encodeURIComponent(String(l))),c=new URL(u,n.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),p={},k={};n.setSearchParams(c,k);let v=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},p),v),a.headers),{url:n.toPathString(c),options:d}})}},r.OpenAIApiFp=function(o){const l=r.OpenAIApiAxiosParamCreator(o);return{cancelFineTune(a,u){return e(this,void 0,void 0,function*(){const c=yield l.cancelFineTune(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createAnswer(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createAnswer(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createChatCompletion(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createChatCompletion(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createClassification(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createClassification(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createCompletion(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createCompletion(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createEdit(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createEdit(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createEmbedding(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createEmbedding(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createFile(a,u,c){return e(this,void 0,void 0,function*(){const f=yield l.createFile(a,u,c);return n.createRequestFunction(f,t.default,s.BASE_PATH,o)})},createFineTune(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createFineTune(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createImage(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createImage(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createImageEdit(a,u,c,f,d,p,k,v){return e(this,void 0,void 0,function*(){const _=yield l.createImageEdit(a,u,c,f,d,p,k,v);return n.createRequestFunction(_,t.default,s.BASE_PATH,o)})},createImageVariation(a,u,c,f,d,p){return e(this,void 0,void 0,function*(){const k=yield l.createImageVariation(a,u,c,f,d,p);return n.createRequestFunction(k,t.default,s.BASE_PATH,o)})},createModeration(a,u){return e(this,void 0,void 0,function*(){const c=yield l.createModeration(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},createSearch(a,u,c){return e(this,void 0,void 0,function*(){const f=yield l.createSearch(a,u,c);return n.createRequestFunction(f,t.default,s.BASE_PATH,o)})},createTranscription(a,u,c,f,d,p,k){return e(this,void 0,void 0,function*(){const v=yield l.createTranscription(a,u,c,f,d,p,k);return n.createRequestFunction(v,t.default,s.BASE_PATH,o)})},createTranslation(a,u,c,f,d,p){return e(this,void 0,void 0,function*(){const k=yield l.createTranslation(a,u,c,f,d,p);return n.createRequestFunction(k,t.default,s.BASE_PATH,o)})},deleteFile(a,u){return e(this,void 0,void 0,function*(){const c=yield l.deleteFile(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},deleteModel(a,u){return e(this,void 0,void 0,function*(){const c=yield l.deleteModel(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},downloadFile(a,u){return e(this,void 0,void 0,function*(){const c=yield l.downloadFile(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},listEngines(a){return e(this,void 0,void 0,function*(){const u=yield l.listEngines(a);return n.createRequestFunction(u,t.default,s.BASE_PATH,o)})},listFiles(a){return e(this,void 0,void 0,function*(){const u=yield l.listFiles(a);return n.createRequestFunction(u,t.default,s.BASE_PATH,o)})},listFineTuneEvents(a,u,c){return e(this,void 0,void 0,function*(){const f=yield l.listFineTuneEvents(a,u,c);return n.createRequestFunction(f,t.default,s.BASE_PATH,o)})},listFineTunes(a){return e(this,void 0,void 0,function*(){const u=yield l.listFineTunes(a);return n.createRequestFunction(u,t.default,s.BASE_PATH,o)})},listModels(a){return e(this,void 0,void 0,function*(){const u=yield l.listModels(a);return n.createRequestFunction(u,t.default,s.BASE_PATH,o)})},retrieveEngine(a,u){return e(this,void 0,void 0,function*(){const c=yield l.retrieveEngine(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},retrieveFile(a,u){return e(this,void 0,void 0,function*(){const c=yield l.retrieveFile(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},retrieveFineTune(a,u){return e(this,void 0,void 0,function*(){const c=yield l.retrieveFineTune(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})},retrieveModel(a,u){return e(this,void 0,void 0,function*(){const c=yield l.retrieveModel(a,u);return n.createRequestFunction(c,t.default,s.BASE_PATH,o)})}}},r.OpenAIApiFactory=function(o,l,a){const u=r.OpenAIApiFp(o);return{cancelFineTune(c,f){return u.cancelFineTune(c,f).then(d=>d(a,l))},createAnswer(c,f){return u.createAnswer(c,f).then(d=>d(a,l))},createChatCompletion(c,f){return u.createChatCompletion(c,f).then(d=>d(a,l))},createClassification(c,f){return u.createClassification(c,f).then(d=>d(a,l))},createCompletion(c,f){return u.createCompletion(c,f).then(d=>d(a,l))},createEdit(c,f){return u.createEdit(c,f).then(d=>d(a,l))},createEmbedding(c,f){return u.createEmbedding(c,f).then(d=>d(a,l))},createFile(c,f,d){return u.createFile(c,f,d).then(p=>p(a,l))},createFineTune(c,f){return u.createFineTune(c,f).then(d=>d(a,l))},createImage(c,f){return u.createImage(c,f).then(d=>d(a,l))},createImageEdit(c,f,d,p,k,v,_,T){return u.createImageEdit(c,f,d,p,k,v,_,T).then(m=>m(a,l))},createImageVariation(c,f,d,p,k,v){return u.createImageVariation(c,f,d,p,k,v).then(_=>_(a,l))},createModeration(c,f){return u.createModeration(c,f).then(d=>d(a,l))},createSearch(c,f,d){return u.createSearch(c,f,d).then(p=>p(a,l))},createTranscription(c,f,d,p,k,v,_){return u.createTranscription(c,f,d,p,k,v,_).then(T=>T(a,l))},createTranslation(c,f,d,p,k,v){return u.createTranslation(c,f,d,p,k,v).then(_=>_(a,l))},deleteFile(c,f){return u.deleteFile(c,f).then(d=>d(a,l))},deleteModel(c,f){return u.deleteModel(c,f).then(d=>d(a,l))},downloadFile(c,f){return u.downloadFile(c,f).then(d=>d(a,l))},listEngines(c){return u.listEngines(c).then(f=>f(a,l))},listFiles(c){return u.listFiles(c).then(f=>f(a,l))},listFineTuneEvents(c,f,d){return u.listFineTuneEvents(c,f,d).then(p=>p(a,l))},listFineTunes(c){return u.listFineTunes(c).then(f=>f(a,l))},listModels(c){return u.listModels(c).then(f=>f(a,l))},retrieveEngine(c,f){return u.retrieveEngine(c,f).then(d=>d(a,l))},retrieveFile(c,f){return u.retrieveFile(c,f).then(d=>d(a,l))},retrieveFineTune(c,f){return u.retrieveFineTune(c,f).then(d=>d(a,l))},retrieveModel(c,f){return u.retrieveModel(c,f).then(d=>d(a,l))}}};class i extends s.BaseAPI{cancelFineTune(l,a){return r.OpenAIApiFp(this.configuration).cancelFineTune(l,a).then(u=>u(this.axios,this.basePath))}createAnswer(l,a){return r.OpenAIApiFp(this.configuration).createAnswer(l,a).then(u=>u(this.axios,this.basePath))}createChatCompletion(l,a){return r.OpenAIApiFp(this.configuration).createChatCompletion(l,a).then(u=>u(this.axios,this.basePath))}createClassification(l,a){return r.OpenAIApiFp(this.configuration).createClassification(l,a).then(u=>u(this.axios,this.basePath))}createCompletion(l,a){return r.OpenAIApiFp(this.configuration).createCompletion(l,a).then(u=>u(this.axios,this.basePath))}createEdit(l,a){return r.OpenAIApiFp(this.configuration).createEdit(l,a).then(u=>u(this.axios,this.basePath))}createEmbedding(l,a){return r.OpenAIApiFp(this.configuration).createEmbedding(l,a).then(u=>u(this.axios,this.basePath))}createFile(l,a,u){return r.OpenAIApiFp(this.configuration).createFile(l,a,u).then(c=>c(this.axios,this.basePath))}createFineTune(l,a){return r.OpenAIApiFp(this.configuration).createFineTune(l,a).then(u=>u(this.axios,this.basePath))}createImage(l,a){return r.OpenAIApiFp(this.configuration).createImage(l,a).then(u=>u(this.axios,this.basePath))}createImageEdit(l,a,u,c,f,d,p,k){return r.OpenAIApiFp(this.configuration).createImageEdit(l,a,u,c,f,d,p,k).then(v=>v(this.axios,this.basePath))}createImageVariation(l,a,u,c,f,d){return r.OpenAIApiFp(this.configuration).createImageVariation(l,a,u,c,f,d).then(p=>p(this.axios,this.basePath))}createModeration(l,a){return r.OpenAIApiFp(this.configuration).createModeration(l,a).then(u=>u(this.axios,this.basePath))}createSearch(l,a,u){return r.OpenAIApiFp(this.configuration).createSearch(l,a,u).then(c=>c(this.axios,this.basePath))}createTranscription(l,a,u,c,f,d,p){return r.OpenAIApiFp(this.configuration).createTranscription(l,a,u,c,f,d,p).then(k=>k(this.axios,this.basePath))}createTranslation(l,a,u,c,f,d){return r.OpenAIApiFp(this.configuration).createTranslation(l,a,u,c,f,d).then(p=>p(this.axios,this.basePath))}deleteFile(l,a){return r.OpenAIApiFp(this.configuration).deleteFile(l,a).then(u=>u(this.axios,this.basePath))}deleteModel(l,a){return r.OpenAIApiFp(this.configuration).deleteModel(l,a).then(u=>u(this.axios,this.basePath))}downloadFile(l,a){return r.OpenAIApiFp(this.configuration).downloadFile(l,a).then(u=>u(this.axios,this.basePath))}listEngines(l){return r.OpenAIApiFp(this.configuration).listEngines(l).then(a=>a(this.axios,this.basePath))}listFiles(l){return r.OpenAIApiFp(this.configuration).listFiles(l).then(a=>a(this.axios,this.basePath))}listFineTuneEvents(l,a,u){return r.OpenAIApiFp(this.configuration).listFineTuneEvents(l,a,u).then(c=>c(this.axios,this.basePath))}listFineTunes(l){return r.OpenAIApiFp(this.configuration).listFineTunes(l).then(a=>a(this.axios,this.basePath))}listModels(l){return r.OpenAIApiFp(this.configuration).listModels(l).then(a=>a(this.axios,this.basePath))}retrieveEngine(l,a){return r.OpenAIApiFp(this.configuration).retrieveEngine(l,a).then(u=>u(this.axios,this.basePath))}retrieveFile(l,a){return r.OpenAIApiFp(this.configuration).retrieveFile(l,a).then(u=>u(this.axios,this.basePath))}retrieveFineTune(l,a){return r.OpenAIApiFp(this.configuration).retrieveFineTune(l,a).then(u=>u(this.axios,this.basePath))}retrieveModel(l,a){return r.OpenAIApiFp(this.configuration).retrieveModel(l,a).then(u=>u(this.axios,this.basePath))}}r.OpenAIApi=i})(uo);var $n={};const la="openai",aa="3.2.1",ua="Node.js library for the OpenAI API",ca={type:"git",url:"git@github.com:openai/openai-node.git"},fa=["openai","open","ai","gpt-3","gpt3"],da="OpenAI",pa="MIT",ha="./dist/index.js",ga="./dist/index.d.ts",ma={build:"tsc --outDir dist/"},_a={axios:"^0.26.0","form-data":"^4.0.0"},ba={"@types/node":"^12.11.5",typescript:"^3.6.4"},ya={name:la,version:aa,description:ua,repository:ca,keywords:fa,author:da,license:pa,main:ha,types:ga,scripts:ma,dependencies:_a,devDependencies:ba};var os,Fr;function wa(){return Fr||(Fr=1,os=typeof self=="object"?self.FormData:window.FormData),os}Object.defineProperty($n,"__esModule",{value:!0});$n.Configuration=void 0;const va=ya;class ka{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${va.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=wa())}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(t.test(e)||e.toLowerCase()==="application/json-patch+json")}}$n.Configuration=ka;(function(r){var e=at&&at.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),t=at&&at.__exportStar||function(n,s){for(var i in n)i!=="default"&&!s.hasOwnProperty(i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(uo,r),t($n,r)})(ps);const Yt=Te(!1),Zt=Te(!1),Wt=Te(!1),_s=Te(!1);let Ir=localStorage.getItem("api_key"),Sa=Ir!==null?JSON.parse(Ir):null;const Me=Te(Sa);Me.subscribe(r=>localStorage.setItem("api_key",JSON.stringify(r)));let $r=localStorage.getItem("combined_tokens"),Aa=$r!==null?JSON.parse($r):0;const Et=Te(Aa);Et.subscribe(r=>localStorage.setItem("combined_tokens",JSON.stringify(r)));let Cr=localStorage.getItem("default_assistant_role"),Ta=Cr!==null?JSON.parse(Cr):0;const _t=Te(Ta||{role:"You are a helpful assistant.",type:"system"});_t.subscribe(r=>localStorage.setItem("default_assistant_role",JSON.stringify(r)));const Ne=Te(0);let jr=localStorage.getItem("conversations"),Oa=jr!==null?JSON.parse(jr):null;const ye=Te(Oa||[{history:[],conversationTokens:0,assistantRole:"You are a helpful assistant.",title:""}]);ye.subscribe(r=>{localStorage.setItem("conversations",JSON.stringify(r))});const Ce=Te(localStorage.getItem("selectedModel")||"gpt-3.5-turbo"),Qt=Te(localStorage.getItem("selectedVoice")||"alloy"),yt=Te(localStorage.getItem("selectedMode")||"GPT"),Tn=Te(localStorage.getItem("selectedSize")||"1024x1024"),On=Te(localStorage.getItem("selectedQuality")||"standard");Ce.subscribe(r=>{localStorage.setItem("selectedModel",r)});Qt.subscribe(r=>{localStorage.setItem("selectedVoice",r)});Tn.subscribe(r=>{localStorage.setItem("selectedSize",r)});On.subscribe(r=>{localStorage.setItem("selectedQuality",r)});yt.subscribe(r=>{localStorage.setItem("selectedMode",r)});const Dt=Te([]),bs=Te(!1),Mr=Te(!1),Ge=Te(!1),ct=Te(!1),Xt=Te({streamText:"",convId:null});let Dr=localStorage.getItem("show_tokens"),Ea=Dr!==null?JSON.parse(Dr):!1;const en=Te(Ea);en.subscribe(r=>{localStorage.setItem("show_tokens",JSON.stringify(r))});let xa="";function rt(r,e=B(Ne)){return new Promise((t,n)=>{try{let s=B(ye);s[e].history=r,ye.set(s),t()}catch(s){console.error("Failed to update history",s),n(s)}})}function Ur(r){const e=B(Ne),t=B(ye),n=t[e].history.filter((s,i)=>i!==r);t[e].history=n,ye.set(t)}function To(){const r=B(ye);if(r.length>0&&r[r.length-1].history.length===0){console.log("Jumping to recent conversation."),Ne.set(r.length-1);return}const e={history:[],conversationTokens:0,assistantRole:B(_t).role,title:""};ye.update(t=>[...t,e]),Ne.set(B(ye).length-1)}function Ds(r){const e=["role","content"];let t=Object.keys(r).filter(n=>e.includes(n)).reduce((n,s)=>(n[s]=r[s],n),{});return Array.isArray(t.content)||(t.content=t.content.toString()),t}async function Lr(r,e,t){let n=B(ye)[e].history,s=n;n=[...n,{role:"user",content:r}],rt(n);const i="gpt-3.5-turbo",o="alloy",l=B(Ce)||i,a=B(Qt)||o;let u;if(u=[...s,{role:"user",content:r}],l.includes("tts"))await lu(r,l,a);else if(l.includes("vision")){const c=B(Dt);await au(u,c,e)}else l.includes("dall-e")?await fu(u,e):t?await cu(u,e,t):await uu(u,e);(B(ye)[e].history.length===1||B(ye)[e].title==="")&&await Ra(r)}function Pa(r){let e=B(ye);e[B(Ne)].title=r,ye.set(e)}async function Ra(r){let t=await ou([{role:"user",content:r},{role:"user",content:"Generate a title for this conversation, so I can easily reference it later. Maximum 6 words. Don't provide anything other than the title. Don't use quotes."}],"gpt-4-turbo-preview");if(t){let n=t.data.choices[0].message.content;Pa(n.toString())}}function Fa(r){const e={role:"assistant",content:"Audio file generated.",audioUrl:r,isAudio:!0};rt([...B(ye)[B(Ne)].history,e])}function Ia(r){let e=B(ye);e[B(Ne)].conversationTokens=e[B(Ne)].conversationTokens+r.total_tokens,ye.set(e),Et.set(B(Et)+r.total_tokens),console.log("Counted tokens: "+r.total_tokens)}function Us(r,e){let t=0;r.map(i=>{t+=i.content.length}),t+=xa.length;let n=t/4,s=B(ye);s[e].conversationTokens=s[e].conversationTokens+n,ye.set(s),Et.set(B(Et)+n)}function $a(r){if(typeof r!="string")return console.warn("ensureNewlinesAroundCodeBlocks received non-string input:",r),r;let e=0;try{return r.replace(/```/g,(t,n,s)=>{e++;const i=e%2!==0;let o="",l="";if(i)(n===0||n>0&&s[n-1]!==`
`)&&(o=`
`);else{const a=n+t.length;(a===s.length||a<s.length&&s[a]!==`
`)&&(l=`
`)}return o+t+l})}catch(t){return console.error("Error processing markdown for code blocks:",t),r}}function Br(r){let e=typeof r=="string"?r:String(r);return r=$a(e),r.replace(/\n/g,`  
`)}async function Ca(r){try{return await navigator.clipboard.writeText(r),console.log("Text successfully copied to clipboard"),!0}catch(e){return console.error("Failed to copy text to clipboard: ",e),!1}}function ls(r){return r.isAudio===!0}function Ls(r){return r.split("").filter(t=>t==="`").length}const ys=(r,e)=>e.some(t=>r instanceof t);let Nr,Vr;function ja(){return Nr||(Nr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ma(){return Vr||(Vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ws=new WeakMap,as=new WeakMap,Cn=new WeakMap;function Da(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",o)},i=()=>{t(Ot(r.result)),s()},o=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",o)});return Cn.set(e,r),e}function Ua(r){if(ws.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",o),r.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",o),r.addEventListener("abort",o)});ws.set(r,e)}let vs={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ws.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ot(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Oo(r){vs=r(vs)}function La(r){return Ma().includes(r)?function(...e){return r.apply(ks(this),e),Ot(this.request)}:function(...e){return Ot(r.apply(ks(this),e))}}function Ba(r){return typeof r=="function"?La(r):(r instanceof IDBTransaction&&Ua(r),ys(r,ja())?new Proxy(r,vs):r)}function Ot(r){if(r instanceof IDBRequest)return Da(r);if(as.has(r))return as.get(r);const e=Ba(r);return e!==r&&(as.set(r,e),Cn.set(e,r)),e}const ks=r=>Cn.get(r);function Na(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(r,e),l=Ot(o);return n&&o.addEventListener("upgradeneeded",a=>{n(Ot(o.result),a.oldVersion,a.newVersion,Ot(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Va=["get","getKey","getAll","getAllKeys","count"],za=["put","add","delete","clear"],us=new Map;function zr(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(us.get(e))return us.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=za.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Va.includes(t)))return;const i=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let u=a.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),s&&a.done]))[0]};return us.set(e,i),i}Oo(r=>({...r,get:(e,t,n)=>zr(e,t)||r.get(e,t,n),has:(e,t)=>!!zr(e,t)||r.has(e,t)}));const qa=["continue","continuePrimaryKey","advance"],qr={},Ss=new WeakMap,Eo=new WeakMap,Ha={get(r,e){if(!qa.includes(e))return r[e];let t=qr[e];return t||(t=qr[e]=function(...n){Ss.set(this,Eo.get(this)[e](...n))}),t}};async function*Ga(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const t=new Proxy(e,Ha);for(Eo.set(t,e),Cn.set(t,ks(e));e;)yield t,e=await(Ss.get(t)||e.continue()),Ss.delete(t)}function Hr(r,e){return e===Symbol.asyncIterator&&ys(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&ys(r,[IDBIndex,IDBObjectStore])}Oo(r=>({...r,get(e,t,n){return Hr(e,t)?Ga:r.get(e,t,n)},has(e,t){return Hr(e,t)||r.has(e,t)}}));const Bs=Na("audio-store",1,{upgrade(r){r.createObjectStore("audios",{keyPath:"id"})}});async function Ja(r,e,t){const s=(await Bs).transaction("audios","readwrite");return s.objectStore("audios").put({id:r,blob:e,conversationId:t}),s.done}async function Ya(r){return(await(await Bs).transaction("audios","readonly").objectStore("audios").get(r))?.blob}async function Za(){const e=(await Bs).transaction("audios","readwrite");return await e.objectStore("audios").clear(),e.done}function Wa(r){En();const e=r.target.files;for(let t of e){const n=new FileReader;n.onloadend=()=>{Dt.update(s=>[...s,n.result])},n.readAsDataURL(t)}}function En(){Dt.set([]),bs.set(!0)}const jn=Te([]),Ns=Te([]);function Qa(r){return`${Date.now()}-${Math.random().toString(36).slice(2)}-win-${r??"na"}`}function Ka(r,e,t){const n=Qa(r);return Ns.update(s=>[...s,{id:n,convId:r,model:e,anchorIndex:t,open:!0,createdAt:Date.now()}]),n}function Gr(r){Ns.update(e=>e.map(t=>t.id===r?{...t,open:!1}:t))}function Xa(r,e){return`${Date.now()}-${Math.random().toString(36).slice(2)}-${r}-${e??"na"}`}function Gt(r,e,t){const n=Xa(r,e);return jn.update(s=>[...s,{id:n,convId:e,responseId:t,kind:r,text:"",open:!0,startedAt:Date.now(),done:!1}]),n}function hn(r,e){e&&jn.update(t=>t.map(n=>n.id===r?{...n,text:n.text+e}:n))}function Jr(r){jn.update(e=>e.map(t=>t.id===r?{...t,open:!1,done:!0}:t))}const eu=Te([]);function tu(){return`${Date.now()}-${Math.random().toString(36).slice(2)}-evt`}function nu(r,e,t){eu.update(n=>{const s={id:tu(),convId:t,type:r,ts:Date.now()},i=[...n,s];return i.length>500?i.slice(i.length-500):i})}let As=null,Mt=null;const su=async()=>{if(Mt){try{Mt.abort()}catch{}Mt=null}console.log("Stream closed by user."),Ge.set(!1);const{streamText:r,convId:e}=B(Xt);if(r&&e!==null){const t=r.replace(/+$/,""),n=B(ye)[e].history,s=n.length?n[n.length-1]:null;s&&typeof s.content=="string"&&s.content.endsWith("")?n[n.length-1]={...s,content:t}:n.push({role:"assistant",content:t}),await rt(n,e),Xt.set({streamText:"",convId:null})}ct.set(!0),En()},ru=[{role:"assistant",content:"There was an error. Maybe the API key is wrong? Or the servers could be down?"}];function xo(){const r=B(Me);r?(As=new ps.Configuration({apiKey:r}),new ps.OpenAIApi(As),console.log("OpenAI API initialized.")):console.warn("API key is not set. Please set the API key before initializing.")}function iu(){xo(),console.log("Configuration reloaded.")}async function ou(r,e=B(Ce)){try{r=[{role:"system",content:B(ye)[B(Ne)].assistantRole},...r];const t=B(Me),n=e||Vs(),s=Mn(r),i=zs(n,s,!1),o=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const a=await o.text().catch(()=>"");throw new Error(`Responses API error ${o.status}: ${a||o.statusText}`)}const l=await o.json();return l?.usage&&Ia(l.usage),l}catch(t){throw console.error("Error in sendRequest:",t),As=null,await rt(ru),t}}async function lu(r,e,t,n){console.log("Sending TTS message.");const s={model:e,voice:t,input:r};try{const i=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B(Me)}`},body:JSON.stringify(s)});if(!i.ok)throw new Error(`Failed to generate audio, response status: ${i.status}`);const o=await i.blob(),l=`audio-${Date.now()}-${Math.floor(Math.random()*1e4)}`;Ja(l,o).then(()=>{console.log("Audio blob saved to IndexedDB with ID:",l)}).catch(console.error),Ya(l).then(a=>{if(console.log(l),console.log(a),a instanceof Blob)if(a){const u=URL.createObjectURL(a);Fa(u)}else console.error("Blob is null or undefined");else console.error("Retrieved object is not a Blob:",a)}).catch(a=>console.error("Error retrieving audio blob:",a))}catch(i){console.error("TTS request error:",i)}}async function au(r,e,t){console.log("Sending vision message."),ct.set(!1);let n=0,s=!1,i=B(ye)[t].history;const o=i.length-1,l=i.map(p=>({role:p.role,content:Fo(p.content,p.role)})),a=[...r].reverse().find(p=>p.role==="user")?.content||"",u=[];a&&u.push({type:"input_text",text:a});for(const p of e)u.push({type:"input_image",image_url:p});const c={role:"user",content:u},f=[...l,c];let d="";i=[...i],Ge.set(!0);try{await Dn("",B(Ce),{onTextDelta:p=>{const k=Ls(p);n+=k,k===0&&(n=0),n===3&&(s=!s,n=0),d+=p,Xt.set({streamText:d,convId:t}),rt([...i,{role:"assistant",content:d+""+(s?"\n```":"")}],t)},onCompleted:async()=>{B(ct)&&(d=d.replace(/+$/,""),ct.set(!1)),await rt([...i,{role:"assistant",content:d}],t),Us(r,t),d="",Ge.set(!1),En()},onError:p=>{Ge.set(!1),En()}},f,{convId:t,anchorIndex:o})}finally{Ge.set(!1)}}async function uu(r,e){ct.set(!1);let t=0,n=!1,s=B(ye)[e].history;const i=s.length-1;r=[{role:B(_t).type,content:B(ye)[e].assistantRole},...r];const l=r.map(Ds),a=Mn(l);let u="";s=[...s],Ge.set(!0);try{await Dn("",B(Ce),{onTextDelta:c=>{const f=Ls(c);t+=f,f===0&&(t=0),t===3&&(n=!n,t=0),u+=c,Xt.set({streamText:u,convId:e}),rt([...s,{role:"assistant",content:u+""+(n?"\n```":"")}],e)},onCompleted:async c=>{B(ct)&&(u=u.replace(/+$/,""),ct.set(!1)),await rt([...s,{role:"assistant",content:u}],e),Us(r,e),u="",Ge.set(!1)},onError:c=>{Ge.set(!1)}},a,{convId:e,anchorIndex:i})}finally{Ge.set(!1)}}async function cu(r,e,t){ct.set(!1);let n=0,s=!1,i=B(ye)[e].history;const o=i.length-1,u=[{role:B(_t).type,content:B(ye)[e].assistantRole},{role:"system",content:t},...r].map(Ds),c=Mn(u);let f="";i=[...i],Ge.set(!0);try{await Dn("",B(Ce),{onTextDelta:d=>{const p=Ls(d);n+=p,p===0&&(n=0),n===3&&(s=!s,n=0),f+=d,Xt.set({streamText:f,convId:e}),rt([...i,{role:"assistant",content:f+""+(s?"\n```":"")}],e)},onCompleted:async()=>{B(ct)&&(f=f.replace(/+$/,""),ct.set(!1)),await rt([...i,{role:"assistant",content:f}],e),Us(r,e),f="",Ge.set(!1)},onError:d=>{Ge.set(!1)}},c,{convId:e,anchorIndex:o})}finally{Ge.set(!1)}}async function fu(r,e){Ge.set(!0);let t=B(ye)[e].history;r=[{role:B(_t).type,content:B(ye)[e].assistantRole},...r];const s=r.map(Ds),i=s[s.length-1].content;try{let o=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B(Me)}`},body:JSON.stringify({model:B(Ce),prompt:i,size:B(Tn),quality:B(On),n:1})});if(!o.ok)throw new Error("HTTP error, status = "+o.status);let a=(await o.json()).data[0].url;rt([...t,{role:"assistant",content:a,type:"image"}],e)}catch(o){console.error("Error generating image:",o)}finally{Ge.set(!1)}}function Vs(){const r=B(Ce);return!r||/gpt-3\.5|gpt-4-turbo-preview|gpt-4-32k|gpt-4$/.test(r)?"gpt-4o-mini":r}function Po(r){const e=(r||"").toLowerCase();return e.includes("gpt-5")||e.includes("o3")||e.includes("o4")||e.includes("reason")}function zs(r,e,t){const n={model:r,input:e,store:!1,stream:t};return Po(r)&&(n.reasoning={summary:"detailed",effort:"medium"}),n.text={verbosity:"medium"},n}function Ro(r){return[{role:"user",content:[{type:"input_text",text:r}]}]}function Fo(r,e){const t=(e||"").toLowerCase()==="assistant";return typeof r=="string"?[{type:t?"output_text":"input_text",text:r}]:Array.isArray(r)?r.map(n=>t?typeof n=="string"?{type:"output_text",text:n}:n?.type==="text"&&typeof n?.text=="string"?{type:"output_text",text:n.text}:n?.type==="input_text"&&typeof n?.text=="string"?{type:"output_text",text:n.text}:{type:"output_text",text:typeof n=="string"?n:JSON.stringify(n)}:n?.type==="text"&&typeof n?.text=="string"?{type:"input_text",text:n.text}:n?.type==="image_url"?{type:"input_image",image_url:n?.image_url?.url??n?.image_url??n?.url??""}:n?.type==="input_text"||n?.type==="input_image"?n:{type:"input_text",text:typeof n=="string"?n:JSON.stringify(n)}):[{type:t?"output_text":"input_text",text:String(r)}]}function Mn(r){return r.map(e=>({role:e.role,content:Fo(e.content,e.role)}))}async function du(r,e){const t=B(Me);if(!t)throw new Error("No API key configured");const n=e||Vs(),s=Ro(r),i=zs(n,s,!1),o=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const l=await o.text().catch(()=>"");throw new Error(`Responses API error ${o.status}: ${l||o.statusText}`)}return o.json()}async function Dn(r,e,t,n,s){const i=B(Me);if(!i)throw new Error("No API key configured");const o=e||Vs(),l=n||Ro(r),a=zs(o,l,!0),u=new AbortController;Mt=u;const c=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(a),signal:u.signal});if(!c.ok||!c.body){const P=await c.text().catch(()=>"");throw Mt=null,new Error(`Responses API stream error ${c.status}: ${P||c.statusText}`)}const f=c.body.getReader(),d=new TextDecoder;let p="",k="",v=null,_=null,T="",m="";const w=s?.convId,b=s?.anchorIndex,S=Po(o)?Ka(w,o,b):null;function A(P){const I=P.split(`
`).map(D=>D.trim()).filter(Boolean);let O="message";const M=[];for(const D of I)D.startsWith("event:")?O=D.slice(6).trim():D.startsWith("data:")&&M.push(D.slice(5).trim());if(M.length===0)return;const L=M.join(`
`);if(L==="[DONE]"){t?.onCompleted?.(k),S&&Gr(S);return}let N=null;try{N=JSON.parse(L)}catch(D){t?.onError?.(new Error(`Failed to parse SSE data JSON: ${D}`));return}const Z=O!=="message"?O:N?.type||"message";if(t?.onEvent?.({type:Z,data:N}),nu(Z,N,w),Z==="response.reasoning_summary_part.added")v||(console.debug("[ResponsesStream][Reasoning] start summary panel",{convId:w}),v=Gt("summary",w,S||void 0),t?.onReasoningStart?.("summary",N?.part));else if(Z==="response.reasoning_summary_text.delta"||Z==="response.reasoning_summary.delta"){const D=N?.delta??"";v||(v=Gt("summary",w,S||void 0),t?.onReasoningStart?.("summary")),typeof D=="string"&&D&&(T+=D,hn(v,D),t?.onReasoningDelta?.("summary",D))}else if(Z==="response.reasoning_summary_part.done"||Z==="response.reasoning_summary_text.done"||Z==="response.reasoning_summary.done"){const D=N?.part?.text??N?.text??"";v||(v=Gt("summary",w,S||void 0),t?.onReasoningStart?.("summary")),typeof D=="string"&&D&&(T+=D,hn(v,D)),Jr(v),t?.onReasoningDone?.("summary",T),v=null,T=""}else if(Z==="response.reasoning_text.delta"||Z==="response.reasoning.delta"){const D=N?.delta??"";_||(_=Gt("text",w,S||void 0),t?.onReasoningStart?.("text")),typeof D=="string"&&D&&(m+=D,hn(_,D),t?.onReasoningDelta?.("text",D))}else if(Z==="response.reasoning_text.done"||Z==="response.reasoning.done"){const D=N?.text??"";_||(_=Gt("text",w,S||void 0),t?.onReasoningStart?.("text")),typeof D=="string"&&D&&(m+=D,hn(_,D)),Jr(_),t?.onReasoningDone?.("text",m),_=null,m=""}else if(Z==="response.output_text.delta"){const D=N?.delta?.text??N?.delta??N?.output_text_delta??N?.text??"";D&&(k+=D,t?.onTextDelta?.(D))}else Z==="response.completed"?(t?.onCompleted?.(k,N),S&&Gr(S)):Z==="error"&&t?.onError?.(N)}for(;;){const{value:P,done:I}=await f.read();if(I)break;const O=d.decode(P,{stream:!0});p+=O;const M=p.split(`

`);p=M.pop()||"";for(const L of M)L.trim()&&A(L)}return p.trim()&&A(p),Mt=null,k}function Ts(){const r=window.innerHeight*.01;document.documentElement.style.setProperty("--app-height",`${r}px`)}async function pu(){B(ye).length>0&&Ne.set(B(ye).length-1),Ts(),window.addEventListener("resize",Ts);try{await Za()}catch(r){console.error("Failed to clear audio blobs:",r)}Dt.set([]),Me.subscribe(r=>{r&&xo()})}function hu(){window.removeEventListener("resize",Ts)}function gu(r){let e,t,n,s,i,o,l,a,u,c,f,d,p;return{c(){e=y("div"),t=y("div"),t.textContent="Your audio file is ready:",n=$(),s=y("button"),s.innerHTML='<span class="playbutton svelte-2tsp55"> Play</span>',i=X(`
    | `),o=y("span"),l=y("a"),a=X(" Download"),u=y("div"),u.textContent="(unavailable after refresh!)",c=$(),f=y("audio"),h(t,"class","mb-2"),h(l,"href",r[0]),h(l,"download","response.mp3"),h(o,"class","downloadbutton svelte-2tsp55"),h(u,"class","notice svelte-2tsp55"),gt(f,"display","none")},m(k,v){x(k,e,v),g(e,t),g(e,n),g(e,s),g(e,i),g(e,o),g(o,l),g(l,a),g(e,u),g(e,c),g(e,f),r[3](f),d||(p=Y(s,"click",r[2]),d=!0)},p(k,[v]){v&1&&h(l,"href",k[0])},i:H,o:H,d(k){k&&E(e),r[3](null),d=!1,p()}}}function mu(r,e,t){let{audioUrl:n=""}=e,s;function i(){s&&s.paused?s.play():s&&(s.pause(),t(1,s.currentTime=0,s))}function o(l){lt[l?"unshift":"push"](()=>{s=l,t(1,s),t(0,n)})}return r.$$set=l=>{"audioUrl"in l&&t(0,n=l.audioUrl)},r.$$.update=()=>{r.$$.dirty&3&&s&&n&&(t(1,s.src=n,s),s.load())},[n,s,i,o]}class _u extends me{constructor(e){super(),ge(this,e,mu,gu,pe,{audioUrl:0})}}const bu=""+new URL("menu-fd7c077d.svg",import.meta.url).href,yu=""+new URL("add-1d344fcd.svg",import.meta.url).href;function wu(r){let e,t,n,s,i,o,l=(r[0]===""?"New Conversation":r[0])+"",a,u,c,f,d,p,k;return{c(){e=y("div"),t=y("button"),n=y("img"),i=$(),o=y("div"),a=X(l),u=$(),c=y("button"),f=y("img"),h(n,"class","icon-white w-8"),h(n,"alt","Menu"),De(n.src,s=bu)||h(n,"src",s),h(t,"class","text-lg font-medium"),h(o,"class","text-lg font-medium pt-[3px] text-center overflow-hidden h-8"),h(f,"class","icon-white w-8"),h(f,"alt","+"),De(f.src,d=yu)||h(f,"src",d),h(c,"class","text-lg font-medium"),h(e,"class","bg-secondary text-white/90 py-2 px-4 flex justify-between md:hidden shrink grow-0 max-h-16")},m(v,_){x(v,e,_),g(e,t),g(t,n),g(e,i),g(e,o),g(o,a),g(e,u),g(e,c),g(c,f),p||(k=[Y(t,"click",r[2]),Y(c,"click",r[1])],p=!0)},p(v,[_]){_&1&&l!==(l=(v[0]===""?"New Conversation":v[0])+"")&&be(a,l)},i:H,o:H,d(v){v&&E(e),p=!1,Ve(k)}}}function vu(r,e,t){const n=on();function s(){n("new-chat")}let{conversation_title:i}=e;const o=()=>{_s.set(!0)};return r.$$set=l=>{"conversation_title"in l&&t(0,i=l.conversation_title)},[i,s,o]}class ku extends me{constructor(e){super(),ge(this,e,vu,wu,pe,{conversation_title:0})}}const tn=""+new URL("close-301080ff.svg",import.meta.url).href,Su=""+new URL("NewChat-b5234abe.svg",import.meta.url).href,Io=""+new URL("edit-b1f72403.svg",import.meta.url).href;function Yr(r,e,t){const n=r.slice();return n[31]=e[t],n[33]=t,n}function Au(r){let e;return{c(){e=y("textarea"),h(e,"placeholder","Select a conversation or start a new one..."),h(e,"class","bg-primary px-2 pt-1 pb-3 resize-none rounded focus:outline-none focus:outline-primary z-20")},m(t,n){x(t,e,n)},p:H,d(t){t&&E(e)}}}function Tu(r){let e,t,n;return{c(){e=y("textarea"),h(e,"placeholder",r[7]),h(e,"class","bg-primary px-2 pt-1 pb-3 resize-none rounded focus:outline-none focus:outline-primary z-20")},m(s,i){x(s,e,i),tt(e,r[4][r[3]].assistantRole),t||(n=Y(e,"input",r[18]),t=!0)},p(s,i){i[0]&24&&tt(e,s[4][s[3]].assistantRole)},d(s){s&&E(e),t=!1,n()}}}function Ou(r){let e,t=(r[31].title===""?"New conversation":r[31].title)+"",n,s;return{c(){e=y("p"),n=X(t),h(e,"class",s="text-left text-sm flex-grow title-text "+(r[2],"")+" svelte-2c65x7")},m(i,o){x(i,e,o),g(e,n)},p(i,o){o[0]&16&&t!==(t=(i[31].title===""?"New conversation":i[31].title)+"")&&be(n,t),o[0]&4&&s!==(s="text-left text-sm flex-grow title-text "+(i[2],"")+" svelte-2c65x7")&&h(e,"class",s)},d(i){i&&E(e)}}}function Eu(r){let e,t,n;function s(){return r[20](r[33])}function i(...o){return r[21](r[33],...o)}return{c(){e=y("input"),h(e,"type","text"),h(e,"class","edit-input svelte-2c65x7")},m(o,l){x(o,e,l),tt(e,r[1]),t||(n=[Y(e,"input",r[19]),Y(e,"blur",s),Y(e,"keydown",i)],t=!0)},p(o,l){r=o,l[0]&2&&e.value!==r[1]&&tt(e,r[1])},d(o){o&&E(e),t=!1,Ve(n)}}}function Zr(r){let e,t,n,s,i;function o(...a){return r[24](r[33],...a)}function l(...a){return r[25](r[33],...a)}return{c(){e=y("button"),t=y("img"),De(t.src,n=tn)||h(t,"src",n),h(t,"alt","Delete"),h(t,"class","icon-white min-w-5 w-5 h-5"),h(e,"tabindex","0"),h(e,"class","delete hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-warning svelte-2c65x7")},m(a,u){x(a,e,u),g(e,t),s||(i=[Y(e,"click",kn(o)),Y(e,"keydown",kn(l))],s=!0)},p(a,u){r=a},d(a){a&&E(e),s=!1,Ve(i)}}}function Wr(r){let e,t=r[31].conversationTokens.toFixed(0)+"",n;return{c(){e=y("p"),n=X(t),h(e,"class","text-blue-200 tokens z-20 ml-5 svelte-2c65x7")},m(s,i){x(s,e,i),g(e,n)},p(s,i){i[0]&16&&t!==(t=s[31].conversationTokens.toFixed(0)+"")&&be(n,t)},d(s){s&&E(e)}}}function Qr(r){let e,t,n,s,i,o,l,a,u,c,f,d;function p(A,P){return A[0]===A[4].length-A[33]-1?Eu:Ou}let k=p(r),v=k(r);function _(...A){return r[22](r[33],r[31],...A)}function T(...A){return r[23](r[33],r[31],...A)}let m=r[4].length>=2&&Zr(r),w=r[2]===!0&&Wr(r);function b(){return r[26](r[33])}function S(...A){return r[27](r[33],...A)}return{c(){e=y("div"),v.c(),t=$(),n=y("div"),s=y("button"),i=y("img"),l=$(),m&&m.c(),a=$(),w&&w.c(),u=$(),De(i.src,o=Io)||h(i,"src",o),h(i,"alt","Edit"),h(i,"class","icon-white min-w-4 w-4 h-4"),h(s,"tabindex","0"),h(s,"class","edit hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-blue-600 svelte-2c65x7"),h(n,"class","flex items-center gap-2"),h(e,"class",c=(r[3]===r[4].length-r[33]-1?"bg-hover2 hover:bg-hover2":"")+" title-container conversation flex justify-between min-h-[50px] py-1 pl-3 items-center rounded-md hover:bg-hover cursor-pointer text-sm transition-colors duration-200 svelte-2c65x7"),h(e,"tabindex","-1")},m(A,P){x(A,e,P),v.m(e,null),g(e,t),g(e,n),g(n,s),g(s,i),g(n,l),m&&m.m(n,null),g(e,a),w&&w.m(e,null),g(e,u),f||(d=[Y(s,"click",kn(_)),Y(s,"keydown",kn(T)),Y(e,"click",b),Y(e,"keydown",S)],f=!0)},p(A,P){r=A,k===(k=p(r))&&v?v.p(r,P):(v.d(1),v=k(r),v&&(v.c(),v.m(e,t))),r[4].length>=2?m?m.p(r,P):(m=Zr(r),m.c(),m.m(n,null)):m&&(m.d(1),m=null),r[2]===!0?w?w.p(r,P):(w=Wr(r),w.c(),w.m(e,u)):w&&(w.d(1),w=null),P[0]&24&&c!==(c=(r[3]===r[4].length-r[33]-1?"bg-hover2 hover:bg-hover2":"")+" title-container conversation flex justify-between min-h-[50px] py-1 pl-3 items-center rounded-md hover:bg-hover cursor-pointer text-sm transition-colors duration-200 svelte-2c65x7")&&h(e,"class",c)},d(A){A&&E(e),v.d(),m&&m.d(),w&&w.d(),f=!1,Ve(d)}}}function xu(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k,v,_,T,m,w,b,S,A,P,I,O,M,L,N,Z=r[6]===null?"(Insert API key)":"",D,q,ke,se;function C(re,he){return re[4][re[3]]?Tu:Au}let z=C(r),G=z(r),W=r[4].slice().reverse(),Q=[];for(let re=0;re<W.length;re+=1)Q[re]=Qr(Yr(r,W,re));return{c(){e=y("div"),t=y("div"),n=y("nav"),s=y("button"),s.textContent="Close menu",i=$(),o=y("button"),l=y("p"),l.textContent="SmoothGPT",a=$(),u=y("img"),f=$(),d=y("div"),d.innerHTML='<p class="text-xs text-gray-400 z-20">System Role:</p>',p=$(),G.c(),k=$(),v=y("div");for(let re=0;re<Q.length;re+=1)Q[re].c();_=$(),T=y("div"),m=y("button"),m.textContent="Export",w=$(),b=y("button"),b.textContent="Import",S=$(),A=y("div"),P=y("button"),P.textContent="Help",I=$(),O=y("button"),O.textContent="Debug",M=$(),L=y("button"),N=X("Settings "),D=X(Z),h(s,"class","md:hidden z-20 flex py-3 px-3 items-center gap-3 rounded-md hover:bg-hover hover:opacity-hover transition-colors duration-200 cursor-pointer text-sm mb-2 flex-shrink-0 border border-white/50"),h(l,"class","text-center font-bold text-2xl m-0"),De(u.src,c=Su)||h(u,"src",c),h(u,"alt","New chat"),h(u,"class","w-6 h-6 filter-white z-20"),h(o,"class","flex justify-between items-center py-3 px-3 cursor-pointer w-full text-left hover:bg-gray-700 rounded-lg z-20"),h(d,"class","py-1 select-none z-20"),h(v,"class","flex flex-col h-40 my-2 flex-grow overflow-y-auto convo-container svelte-2c65x7"),h(m,"class","flex flex-1 border border-white/20 py-3 px-3 items-center text-gray-400 font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),h(b,"class","flex flex-1 border border-white/20 py-3 px-3 items-center text-gray-400 font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),h(T,"class","flex flex-row gap-2"),h(P,"class","flex flex-1 border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),h(O,"class","flex flex-1 border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),h(A,"class","flex flex-row gap-2"),h(L,"class","flex border border-white/50 py-3 px-3 items-center font-bold gap-3 rounded-md hover:bg-hover transition-colors duration-200 cursor-pointer text-sm mt-auto z-20"),h(n,"class","flex h-full fle-1 flex-col space-y-1 p-2 bg-secondary"),h(t,"class",q=(r[5]==!0?"translate-x-0":"-translate-x-[100%] md:translate-x-0")+" duration-200 h-full fixed md:flex w-[260px] flex-col bg-secondary z-40"),h(e,"class","flex flex-col text-white/90")},m(re,he){x(re,e,he),g(e,t),g(t,n),g(n,s),g(n,i),g(n,o),g(o,l),g(o,a),g(o,u),g(n,f),g(n,d),g(n,p),G.m(n,null),g(n,k),g(n,v);for(let ie=0;ie<Q.length;ie+=1)Q[ie].m(v,null);g(n,_),g(n,T),g(T,m),g(T,w),g(T,b),g(n,S),g(n,A),g(A,P),g(A,I),g(A,O),g(n,M),g(n,L),g(L,N),g(L,D),ke||(se=[Y(s,"click",r[17]),Y(o,"click",r[8]),Y(m,"click",r[15]),Y(b,"click",r[16]),Y(P,"click",r[10]),Y(O,"click",r[11]),Y(L,"click",r[9])],ke=!0)},p(re,he){if(z===(z=C(re))&&G?G.p(re,he):(G.d(1),G=z(re),G&&(G.c(),G.m(n,k))),he[0]&28703){W=re[4].slice().reverse();let ie;for(ie=0;ie<W.length;ie+=1){const Oe=Yr(re,W,ie);Q[ie]?Q[ie].p(Oe,he):(Q[ie]=Qr(Oe),Q[ie].c(),Q[ie].m(v,null))}for(;ie<Q.length;ie+=1)Q[ie].d(1);Q.length=W.length}he[0]&64&&Z!==(Z=re[6]===null?"(Insert API key)":"")&&be(D,Z),he[0]&32&&q!==(q=(re[5]==!0?"translate-x-0":"-translate-x-[100%] md:translate-x-0")+" duration-200 h-full fixed md:flex w-[260px] flex-col bg-secondary z-40")&&h(t,"class",q)},i:H,o:H,d(re){re&&E(e),G.d(),nt(Q,re),ke=!1,Ve(se)}}}function Pu(r,e,t){let n,s,i,o,l,a,u;de(r,en,C=>t(2,n=C)),de(r,Ce,C=>t(28,s=C)),de(r,_t,C=>t(29,i=C)),de(r,Ne,C=>t(3,o=C)),de(r,ye,C=>t(4,l=C)),de(r,_s,C=>t(5,a=C)),de(r,Me,C=>t(6,u=C));const c=on();let f="You are a helpful assistant.";function d(){c("new-chat")}function p(){Zt.set(!1),Wt.set(!1),Yt.set(!0)}function k(){Yt.set(!1),Zt.set(!0),Wt.set(!1)}function v(){Yt.set(!1),Zt.set(!1),Wt.set(!0)}async function _(C){if(console.log("Attempting to delete conversation at index:",C),l.length<=1){console.log("Deletion aborted: Cannot delete the last conversation.");return}let z=l.filter((G,W)=>W!==C);console.log("Updated conversations list after deletion attempt:",z),C===o?(Ne.set(C>0?C-1:0),console.log("Selected conversation index adjusted to:",C>0?C-1:0)):C<o&&(Ne.set(o-1),console.log("Selected conversation index adjusted due to deletion before it. New index:",o-1)),ye.set(z)}let T=null,m="";function w(C,z){t(0,T=C),t(1,m=z)}function b(C){ye.update(z=>{let G=[...z];return G[C].title=m,G}),t(0,T=null)}function S(){let z=JSON.stringify({conversations:l,chosenConversationId:o,defaultAssistantRole:i,selectedModel:s,showTokens:n}),G=new Blob([z],{type:"application/json"}),W=URL.createObjectURL(G),Q=document.createElement("a");Q.href=W,Q.download="smoothgpt-session.json",Q.click(),URL.revokeObjectURL(W)}function A(){let C=document.createElement("input");C.type="file",C.accept=".json",C.onchange=async z=>{let G=C.files[0],W=new FileReader;W.onload=async Q=>{let re=Q.target.result,he=JSON.parse(re);ye.set(he.conversations),Ne.set(he.chosenConversationId),_t.set(he.defaultAssistantRole),Ce.set(he.selectedModel),en.set(he.showTokens)},W.readAsText(G)},C.click()}const P=()=>{_s.set(!1)};function I(){l[o].assistantRole=this.value,ye.set(l)}function O(){m=this.value,t(1,m)}return[T,m,n,o,l,a,u,f,d,p,k,v,_,w,b,S,A,P,I,O,C=>b(l.length-C-1),(C,z)=>{z.key==="Enter"&&(b(l.length-C-1),z.preventDefault())},(C,z,G)=>{let W=l.length-C-1;w(W,z.title)},(C,z,G)=>{if(G.key==="Enter"){G.preventDefault();let W=l.length-C-1;w(W,z.title)}},(C,z)=>{let G=l.length-C-1;_(G)},(C,z)=>{if(z.key==="Enter"){z.preventDefault();let G=l.length-C-1;_(G)}},C=>{let z=l.length-C-1;Ne.set(z)},(C,z)=>{if(z.key==="Enter"){z.preventDefault();let G=l.length-C-1;Ne.set(G)}}]}class Ru extends me{constructor(e){super(),ge(this,e,Pu,xu,pe,{},null,[-1,-1])}}const $o="models";function Fu(){try{const r=localStorage.getItem($o);return r?JSON.parse(r):[]}catch{return[]}}const Tt=Te(Fu());Tt.subscribe(r=>{try{localStorage.setItem($o,JSON.stringify(r||[]))}catch{}});const Co="recent_models",Iu=5;function $u(){try{const r=localStorage.getItem(Co);return r?JSON.parse(r):[]}catch{return[]}}const nn=Te($u());nn.subscribe(r=>{try{localStorage.setItem(Co,JSON.stringify(r||[]))}catch{}});function Kr(r){if(!r)return;const n=(B(Tt)||[]).find(s=>s?.id===r)||{id:r};nn.update(s=>{const i=(s||[]).filter(o=>o?.id!==r);return[n,...i].slice(0,Iu)})}function Xr(r,e,t){const n=r.slice();return n[46]=e[t],n}function ei(r,e,t){const n=r.slice();return n[49]=e[t],n}function Cu(r){let e;return{c(){e=y("option"),e.textContent="No models available",e.disabled=!0,e.selected=!0,e.__value="No models available",e.value=e.__value},m(t,n){x(t,e,n)},p:H,d(t){t&&E(e)}}}function ju(r){let e,t=r[9]&&r[9].length&&ti(r),n=r[10],s=[];for(let i=0;i<n.length;i+=1)s[i]=ri(Xr(r,n,i));return{c(){t&&t.c(),e=y("optgroup");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"label","All models")},m(i,o){t&&t.m(i,o),x(i,e,o);for(let l=0;l<s.length;l+=1)s[l].m(e,null)},p(i,o){if(i[9]&&i[9].length?t?t.p(i,o):(t=ti(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[0]&1536){n=i[10];let l;for(l=0;l<n.length;l+=1){const a=Xr(i,n,l);s[l]?s[l].p(a,o):(s[l]=ri(a),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(i){t&&t.d(i),i&&E(e),nt(s,i)}}}function ti(r){let e,t=r[9],n=[];for(let s=0;s<t.length;s+=1)n[s]=ni(ei(r,t,s));return{c(){e=y("optgroup");for(let s=0;s<n.length;s+=1)n[s].c();h(e,"label","Recently used")},m(s,i){x(s,e,i);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(s,i){if(i[0]&512){t=s[9];let o;for(o=0;o<t.length;o+=1){const l=ei(s,t,o);n[o]?n[o].p(l,i):(n[o]=ni(l),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),nt(n,s)}}}function ni(r){let e,t=r[49].id+"",n,s;return{c(){e=y("option"),n=X(t),e.__value=s=r[49].id,e.value=e.__value},m(i,o){x(i,e,o),g(e,n)},p(i,o){o[0]&512&&t!==(t=i[49].id+"")&&be(n,t),o[0]&512&&s!==(s=i[49].id)&&(e.__value=s,e.value=e.__value)},d(i){i&&E(e)}}}function si(r){let e,t=r[46].id+"",n,s;return{c(){e=y("option"),n=X(t),e.__value=s=r[46].id,e.value=e.__value},m(i,o){x(i,e,o),g(e,n)},p(i,o){o[0]&1024&&t!==(t=i[46].id+"")&&be(n,t),o[0]&1024&&s!==(s=i[46].id)&&(e.__value=s,e.value=e.__value)},d(i){i&&E(e)}}}function ri(r){let e=!r[9].find(n),t;function n(...i){return r[28](r[46],...i)}let s=e&&si(r);return{c(){s&&s.c(),t=Ae()},m(i,o){s&&s.m(i,o),x(i,t,o)},p(i,o){r=i,o[0]&1536&&(e=!r[9].find(n)),e?s?s.p(r,o):(s=si(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(i){s&&s.d(i),i&&E(t)}}}function ii(r){let e,t,n,s,i,o,l,a,u,c,f,d;return{c(){e=y("div"),t=y("label"),t.textContent="Voice Selection",n=$(),s=y("select"),i=y("option"),i.textContent="Alloy",o=y("option"),o.textContent="Echo",l=y("option"),l.textContent="Fable",a=y("option"),a.textContent="Onyx",u=y("option"),u.textContent="Nova",c=y("option"),c.textContent="Shimmer",h(t,"for","voice-selection"),h(t,"class","block font-medium mb-2"),i.__value="alloy",i.value=i.__value,o.__value="echo",o.value=o.__value,l.__value="fable",l.value=l.__value,a.__value="onyx",a.value=a.__value,u.__value="nova",u.value=u.__value,c.__value="shimmer",c.value=c.__value,h(s,"class","border text-black border-gray-300 p-2 rounded w-full"),h(s,"id","voice-selection"),r[11]===void 0&&ut(()=>r[32].call(s)),h(e,"class","mb-4")},m(p,k){x(p,e,k),g(e,t),g(e,n),g(e,s),g(s,i),g(s,o),g(s,l),g(s,a),g(s,u),g(s,c),Ze(s,r[11]),f||(d=Y(s,"change",r[32]),f=!0)},p(p,k){k[0]&2048&&Ze(s,p[11])},d(p){p&&E(e),f=!1,d()}}}function oi(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k,v,_;return{c(){e=y("div"),t=y("label"),t.textContent="Image Size",n=$(),s=y("select"),i=y("option"),i.textContent="1024x1024",o=y("option"),o.textContent="1024x1792",l=y("option"),l.textContent="1792x1024",a=$(),u=y("div"),c=y("label"),c.textContent="Image Quality",f=$(),d=y("select"),p=y("option"),p.textContent="standard",k=y("option"),k.textContent="hd",h(t,"for","size-selection"),h(t,"class","block font-medium mb-2"),i.__value="1024x1024",i.value=i.__value,o.__value="1024x1792",o.value=o.__value,l.__value="1792x1024",l.value=l.__value,h(s,"class","border text-black border-gray-300 p-2 rounded w-full"),h(s,"id","size-selection"),r[12]===void 0&&ut(()=>r[33].call(s)),h(e,"class","mb-4"),h(c,"for","quality-selection"),h(c,"class","block font-medium mb-2"),p.__value="standard",p.value=p.__value,k.__value="hd",k.value=k.__value,h(d,"class","border text-black border-gray-300 p-2 rounded w-full"),h(d,"id","quality-selection"),r[13]===void 0&&ut(()=>r[34].call(d)),h(u,"class","mb-4")},m(T,m){x(T,e,m),g(e,t),g(e,n),g(e,s),g(s,i),g(s,o),g(s,l),Ze(s,r[12]),x(T,a,m),x(T,u,m),g(u,c),g(u,f),g(u,d),g(d,p),g(d,k),Ze(d,r[13]),v||(_=[Y(s,"change",r[33]),Y(d,"change",r[34])],v=!0)},p(T,m){m[0]&4096&&Ze(s,T[12]),m[0]&8192&&Ze(d,T[13])},d(T){T&&E(e),T&&E(a),T&&E(u),v=!1,Ve(_)}}}function Mu(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k,v,_,T,m,w,b,S,A,P,I,O,M,L,N,Z,D,q,ke,se,C,z,G,W,Q,re,he=r[8].startsWith("tts"),ie,Oe=r[8].startsWith("dall-e"),Ue,Ee,Le,He,ce,fe,j,K,_e,te,V,ae,vt,Xe,et,U,Qe,st=r[14].toFixed(0)+"",Vt,zt,qt,Js,an=(r[14]/1e3*.02).toFixed(2)+"",Un,Ys,un,Zs,cn,kt,bt,ht,Ws,Ln,Qs,Bn,Ks,fn,Xs,Pt,Rt,er,tr,Ht,Nn,nr;function sr(Se,Be){return Se[9]&&Se[9].length||Se[10]&&Se[10].length?ju:Cu}let dn=sr(r),ot=dn(r),Je=he&&ii(r),Ye=Oe&&oi(r);return{c(){e=y("div"),t=y("div"),n=y("div"),s=y("button"),i=y("img"),l=$(),a=y("h2"),a.textContent="Settings",u=$(),c=y("div"),f=y("label"),f.textContent="API Key",d=$(),p=y("div"),k=y("input"),v=$(),_=y("button"),_.textContent="Check API",T=$(),m=y("p"),w=X(r[7]),S=$(),A=y("div"),P=y("label"),P.textContent="Mode Selection",I=$(),O=y("select"),M=y("option"),M.textContent="GPT",L=y("option"),L.textContent="GPT + Vision",N=y("option"),N.textContent="Dall-E",Z=y("option"),Z.textContent="TTS",D=$(),q=y("div"),ke=y("div"),se=y("label"),se.textContent="Model Selection",C=$(),z=y("button"),G=X(""),W=$(),Q=y("select"),ot.c(),re=$(),Je&&Je.c(),ie=$(),Ye&&Ye.c(),Ue=$(),Ee=y("div"),Le=y("label"),Le.textContent="Default Assistant role",He=$(),ce=y("input"),fe=$(),j=y("div"),K=y("select"),_e=y("option"),_e.textContent="System",te=y("option"),te.textContent="User",V=$(),ae=y("a"),ae.textContent="Which should I use?",vt=$(),Xe=y("div"),et=y("div"),U=y("p"),Qe=X("Estimated Token Usage: "),Vt=X(st),zt=$(),qt=y("p"),Js=X("Estimated Cost with GPT-4: $"),Un=X(an),Ys=$(),un=y("p"),un.innerHTML='<a href="https://openai.com/pricing" target="_blank" rel="noreferrer">See all API pricing</a>',Zs=$(),cn=y("div"),kt=y("label"),bt=y("div"),ht=y("input"),Ws=$(),Ln=y("div"),Qs=$(),Bn=y("div"),Ks=$(),fn=y("div"),fn.textContent="Show estimated tokens in sidebar",Xs=$(),Pt=y("button"),Rt=y("img"),tr=$(),Ht=y("button"),Ht.textContent="Save",h(i,"class","icon-white w-8"),h(i,"alt","Close"),De(i.src,o=tn)||h(i,"src",o),h(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),h(a,"class","text-xl font-bold mb-4"),h(f,"for","api-key"),h(f,"class","block font-medium mb-2"),h(k,"type","password"),h(k,"id","api-key"),h(k,"name","api-key"),h(k,"class","border text-black border-gray-300 p-2 rounded w-full"),h(_,"class","ml-2 bg-blue-600 hover:bg-blue-400 transition-colors duration-800 text-white p-2 rounded text-xs"),h(p,"class","flex items-center"),h(m,"class",b="mt-2 text-white rounded-lg p-2 "+(r[6]==="yellow"?"bg-yellow-600":"")+" "+(r[6]==="red"?"bg-red-600":"")+" "+(r[6]==="green"?"bg-green-600":"")),gt(m,"display",r[16]?"block":"none"),h(c,"class","mb-4"),h(P,"for","mode-selection"),h(P,"class","block font-medium mb-2"),M.__value="GPT",M.value=M.__value,L.__value="GPT + Vision",L.value=L.__value,N.__value="Dall-E",N.value=N.__value,Z.__value="TTS",Z.value=Z.__value,h(O,"class","border text-black border-gray-300 p-2 rounded w-full"),h(O,"id","mode-selection"),r[0]===void 0&&ut(()=>r[30].call(O)),h(A,"class","mb-4"),h(se,"for","model-selection"),h(se,"class","block font-medium"),h(z,"class","ml-2 text-sm bg-gray-700 hover:bg-gray-600 transition-colors duration-200 text-white px-2 py-1 rounded"),z.disabled=r[5],h(z,"title","Refresh models"),h(ke,"class","flex items-center justify-between mb-2"),h(Q,"class","border text-black border-gray-300 p-2 rounded w-full"),h(Q,"id","model-selection"),r[8]===void 0&&ut(()=>r[31].call(Q)),h(q,"class","mb-4"),h(Le,"for","api-key"),h(Le,"class","block font-medium mb-2"),h(ce,"class","border text-black border-gray-300 p-2 rounded w-full"),_e.__value="system",_e.value=_e.__value,te.__value="user",te.value=te.__value,h(K,"class","text-black p-2 rounded focus:outline-none focus:bg-white max-w-24"),r[3]===void 0&&ut(()=>r[36].call(K)),h(ae,"href","https://platform.openai.com/docs/guides/prompt-engineering/tactic-ask-the-model-to-adopt-a-persona"),h(ae,"target","_blank"),h(ae,"rel","noreferrer"),h(ae,"class","text-blue-300 transition underline text-xs hover:text-blue-500"),h(j,"class","flex items-center my-2 space-x-2"),h(Ee,"class","mb-4"),h(U,"class","font-bold mb-2"),h(qt,"class",""),h(un,"class","text-blue-300 transition underline text-xs hover:text-blue-500 mt-2"),h(ht,"type","checkbox"),h(ht,"id","show-tokens-toggle"),h(ht,"class","sr-only"),h(Ln,"class","block bg-gray-600 w-14 h-8 rounded-full"),h(Bn,"class","dot absolute left-1 top-1 bg-gray-100 w-6 h-6 rounded-full transition"),h(bt,"class","relative"),h(fn,"class","ml-3 text-gray-200"),h(kt,"for","show-tokens-toggle"),h(kt,"class","flex items-center cursor-pointer"),h(cn,"class","mt-4"),h(et,"class","flex flex-col"),h(Rt,"class","icon-white w-3"),h(Rt,"alt","Close"),De(Rt.src,er=tn)||h(Rt,"src",er),h(Pt,"class","bg-warning hover:bg-warningHover transition-colors duration-200 text-white ml-10 px-4 py-2 flex align-middle justify-center rounded"),gt(Pt,"font-size","1rem"),h(Xe,"class","flex justify-between items-start"),h(Ht,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-8 rounded"),h(n,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative"),h(t,"class","flex items-center justify-center min-h-screen"),h(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(Se,Be){x(Se,e,Be),g(e,t),g(t,n),g(n,s),g(s,i),g(n,l),g(n,a),g(n,u),g(n,c),g(c,f),g(c,d),g(c,p),g(p,k),tt(k,r[1]),g(p,v),g(p,_),g(c,T),g(c,m),g(m,w),g(n,S),g(n,A),g(A,P),g(A,I),g(A,O),g(O,M),g(O,L),g(O,N),g(O,Z),Ze(O,r[0]),g(n,D),g(n,q),g(q,ke),g(ke,se),g(ke,C),g(ke,z),g(z,G),g(q,W),g(q,Q),ot.m(Q,null),Ze(Q,r[8]),g(n,re),Je&&Je.m(n,null),g(n,ie),Ye&&Ye.m(n,null),g(n,Ue),g(n,Ee),g(Ee,Le),g(Ee,He),g(Ee,ce),tt(ce,r[2]),g(Ee,fe),g(Ee,j),g(j,K),g(K,_e),g(K,te),Ze(K,r[3]),g(j,V),g(j,ae),g(n,vt),g(n,Xe),g(Xe,et),g(et,U),g(U,Qe),g(U,Vt),g(et,zt),g(et,qt),g(qt,Js),g(qt,Un),g(et,Ys),g(et,un),g(et,Zs),g(et,cn),g(cn,kt),g(kt,bt),g(bt,ht),ht.checked=r[4],g(bt,Ws),g(bt,Ln),g(bt,Qs),g(bt,Bn),g(kt,Ks),g(kt,fn),g(Xe,Xs),g(Xe,Pt),g(Pt,Rt),g(n,tr),g(n,Ht),Nn||(nr=[Y(s,"click",r[23]),Y(k,"input",r[29]),Y(_,"click",r[20]),Y(O,"change",r[30]),Y(z,"click",r[21]),Y(Q,"change",r[31]),Y(ce,"input",r[35]),Y(K,"change",r[36]),Y(ht,"change",r[37]),Y(ht,"change",r[19]),Y(Pt,"click",r[22]),Y(Ht,"click",r[24])],Nn=!0)},p(Se,Be){Be[0]&2&&k.value!==Se[1]&&tt(k,Se[1]),Be[0]&128&&be(w,Se[7]),Be[0]&64&&b!==(b="mt-2 text-white rounded-lg p-2 "+(Se[6]==="yellow"?"bg-yellow-600":"")+" "+(Se[6]==="red"?"bg-red-600":"")+" "+(Se[6]==="green"?"bg-green-600":""))&&h(m,"class",b),Be[0]&1&&Ze(O,Se[0]),Be[0]&32&&(z.disabled=Se[5]),dn===(dn=sr(Se))&&ot?ot.p(Se,Be):(ot.d(1),ot=dn(Se),ot&&(ot.c(),ot.m(Q,null))),Be[0]&1792&&Ze(Q,Se[8]),Be[0]&256&&(he=Se[8].startsWith("tts")),he?Je?Je.p(Se,Be):(Je=ii(Se),Je.c(),Je.m(n,ie)):Je&&(Je.d(1),Je=null),Be[0]&256&&(Oe=Se[8].startsWith("dall-e")),Oe?Ye?Ye.p(Se,Be):(Ye=oi(Se),Ye.c(),Ye.m(n,Ue)):Ye&&(Ye.d(1),Ye=null),Be[0]&4&&ce.value!==Se[2]&&tt(ce,Se[2]),Be[0]&8&&Ze(K,Se[3]),Be[0]&16384&&st!==(st=Se[14].toFixed(0)+"")&&be(Vt,st),Be[0]&16384&&an!==(an=(Se[14]/1e3*.02).toFixed(2)+"")&&be(Un,an),Be[0]&16&&(ht.checked=Se[4])},i:H,o:H,d(Se){Se&&E(e),ot.d(),Je&&Je.d(),Ye&&Ye.d(),Nn=!1,Ve(nr)}}}function Du(r,e,t){let n,s,i,o,l,a,u,c,f,d,p,k,v,_;de(r,_t,j=>t(39,n=j)),de(r,Me,j=>t(25,s=j)),de(r,nn,j=>t(26,i=j)),de(r,yt,j=>t(0,o=j)),de(r,Tt,j=>t(27,l=j)),de(r,Ce,j=>t(8,c=j)),de(r,Qt,j=>t(11,p=j)),de(r,Tn,j=>t(12,k=j)),de(r,On,j=>t(13,v=j)),de(r,Et,j=>t(14,_=j));const T=on();let m=Te("");de(r,m,j=>t(7,u=j));let w=Te("");de(r,w,j=>t(6,a=j));let b=Te([]);de(r,b,j=>t(10,d=j));let S=Te([]);de(r,S,j=>t(9,f=j));let A=B(Me)||"",P="";Me.subscribe(j=>{P=j||"",t(1,A=P)});let I=n.role,O=n.type;Me.subscribe(j=>{localStorage.setItem("api_key",JSON.stringify(j))});let M=!1;en.subscribe(j=>{t(4,M=j)}),rn(async()=>{await D()});function L(){en.set(M)}function N(){let j=B(yt),K=B(Tt),_e=[];j==="GPT"?_e=K.filter(te=>te.id.includes("gpt")&&!te.id.includes("vision")):j==="GPT + Vision"?_e=K.filter(te=>te.id.includes("vision")):j==="Dall-E"?_e=K.filter(te=>te.id.includes("dall-e")):j==="TTS"&&(_e=K.filter(te=>te.id.includes("tts"))),b.set(_e),_e.length>0&&(!B(Ce)||!_e.some(te=>te.id===B(Ce)))&&Ce.set(_e[0].id)}function Z(){let j=B(yt),K=B(nn)||[],_e=[];j==="GPT"?_e=K.filter(te=>te.id.includes("gpt")&&!te.id.includes("vision")):j==="GPT + Vision"?_e=K.filter(te=>te.id.includes("vision")):j==="Dall-E"?_e=K.filter(te=>te.id.includes("dall-e")):j==="TTS"&&(_e=K.filter(te=>te.id.includes("tts"))),S.set(_e)}async function D(){const j=localStorage.getItem("selectedMode");yt.set(j||"GPT");const K=B(Tt);(!K||K.length===0)&&(P||B(Me))&&await ke(B(Me)||P),N(),Z()}async function q(){if(!A){w.set("yellow"),m.set("API key is missing.");return}try{const j=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(j.ok)w.set("green"),m.set("API connection succeeded."),G(),await ke(P),N();else throw new Error(`HTTP error! status: ${j.status}`)}catch(j){console.error("API connection failed:",j),w.set("red"),m.set("API connection failed.")}}async function ke(j){if(!j){w.set("yellow"),console.log("showMessage",w),console.error("API key is missing.");return}try{const K=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!K.ok)throw new Error(`HTTP error! status: ${K.status}`);const te=(await K.json()).data.sort((V,ae)=>V.id.localeCompare(ae.id));Tt.set(te)}catch(K){console.error("Failed to fetch models:",K)}}let se=!1;async function C(){const j=B(Me)||A;if(!j){w.set("yellow"),m.set("API key is missing.");return}try{t(5,se=!0),await ke(j),N()}finally{t(5,se=!1)}}function z(){Et.set(0)}function G(){_t.set({role:I,type:O}),Me.set(A),localStorage.setItem("selectedModel",B(Ce)),localStorage.setItem("selectedVoice",B(Qt)),localStorage.setItem("selectedMode",B(yt)),T("settings-changed"),console.log("Settings saved.")}function W(){Yt.set(!1)}function Q(){G(),W()}const re=(j,K)=>K.id===j.id;function he(){A=this.value,t(1,A),t(25,s)}function ie(){o=St(this),yt.set(o)}function Oe(){c=St(this),Ce.set(c)}function Ue(){p=St(this),Qt.set(p)}function Ee(){k=St(this),Tn.set(k)}function Le(){v=St(this),On.set(v)}function He(){I=this.value,t(2,I)}function ce(){O=St(this),t(3,O)}function fe(){M=this.checked,t(4,M)}return r.$$.update=()=>{r.$$.dirty[0]&1&&N(),r.$$.dirty[0]&134217728&&N(),r.$$.dirty[0]&1&&Z(),r.$$.dirty[0]&67108864&&Z(),r.$$.dirty[0]&33554432&&t(1,A=s||"")},[o,A,I,O,M,se,a,u,c,f,d,p,k,v,_,m,w,b,S,L,q,C,z,W,Q,s,i,l,re,he,ie,Oe,Ue,Ee,Le,He,ce,fe]}class Uu extends me{constructor(e){super(),ge(this,e,Du,Mu,pe,{},null,[-1,-1])}}function Lu(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k;return{c(){e=y("div"),t=y("div"),n=y("div"),s=y("button"),i=y("img"),l=$(),a=y("h2"),a.textContent="Help & FAQ",u=$(),c=y("div"),c.innerHTML=`<h1 class="text-3xl font-bold mb-4">What is SmoothGPT?</h1> 
          <p class="mb-4">OpenAI offers ChatGPT Plus for a monthly subscription, which allows you to use their UI to converse with ChatGPT. However, this comes with usage limits, and the $20/mo fee is expensive. Alternatively, you can use the OpenAI API, which is much more affordable with a pay-as-you-go rate. But, the API is not end-user friendly! It&#39;s designed for developers who can build apps around it.</p> 
          <p class="mb-4"><strong>That&#39;s where SmoothGPT comes in!</strong> SmoothGPT provides a UI that is extremely similar to the ChatGPT official site.</p> 
  
          <h2 class="text-2xl font-bold mb-3">Key Features:</h2> 
          <ul class="list-disc list-inside mb-4"><li>Your API calls are safely made directly in the browser, not server-side. All data is stored in your browser cache or session.</li> 
              <li>Switch between GPT, Vision, Dall-E, and TTS models with shared conversation context.</li> 
              <li>Upload PDFs or images and ask the AI questions about their contents.</li> 
              <li>Copy or delete messages easily.</li> 
              <li>Edit messages to change the conversation.</li> 
              <li>Safely stop incoming messages.</li> 
              <li>Edit conversation titles.</li> 
              <li>It&#39;s absolutely free.</li></ul> 
  
          <div class="mb-1 mt-4"><a href="https://github.com/agambon/SmoothGPT" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">See the source code</a></div> 
          <div class="mb-1"><a href="https://platform.openai.com/api-keys" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">Get an API key</a></div> 
          <div class="mb-4"><a href="https://github.com/billmei/every-chatgpt-gui" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">Check out other API frontends</a></div> 
  
          <p class="mb-4"><strong>Note on data storage:</strong> If you browse away while a response is streaming in, you will miss that data. If you refresh your page, TTS MP3 files are lost, but conversations are maintained. Images generated by Dall-E are only available for 60 minutes. If you wipe your browser cache, ALL content is lost. You can download your session locally and restore it anytime.</p>`,f=$(),d=y("button"),d.textContent="Got it!",h(i,"class","icon-white w-8"),h(i,"alt","Close"),De(i.src,o=tn)||h(i,"src",o),h(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),h(a,"class","text-xl font-bold mb-4"),h(c,"class","text-left"),h(d,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-4 rounded"),h(n,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative max-w-lg mx-4"),h(t,"class","flex items-center justify-center min-h-screen"),h(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(v,_){x(v,e,_),g(e,t),g(t,n),g(n,s),g(s,i),g(n,l),g(n,a),g(n,u),g(n,c),g(n,f),g(n,d),p||(k=[Y(s,"click",r[0]),Y(d,"click",r[0])],p=!0)},p:H,i:H,o:H,d(v){v&&E(e),p=!1,Ve(k)}}}function Bu(r){function e(){Zt.set(!1)}return[e]}class Nu extends me{constructor(e){super(),ge(this,e,Bu,Lu,pe,{})}}function Vu(){const r=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||r(e)},rn(()=>{console.warn=r})}function li(r,e,t){const n=r.slice();return n[18]=e[t],n}function ai(r,e,t){const n=r.slice();return n[18]=e[t],n}function ui(r,e,t){const n=r.slice();return n[10]=e[t],n}function ci(r,e,t){const n=r.slice();return n[13]=e[t],n[15]=t,n}function fi(r,e,t){const n=r.slice();return n[16]=e[t],n[15]=t,n}function di(r,e,t){const n=r.slice();return n[7]=e[t],n}function zu(r){let e,t,n,s;const i=[Ju,Gu,Hu],o=[];function l(a,u){return a[0]==="table"?0:a[0]==="list"?1:2}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,u){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function qu(r){let e,t,n=r[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=bi(di(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ae()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&34){n=o[1];let a;for(a=0;a<n.length;a+=1){const u=di(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=bi(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function Hu(r){let e,t,n;const s=[r[6]];var i=r[5][r[0]];function o(l){let a={$$slots:{default:[Wu]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)a=mt(a,s[u]);return{props:a}}return i&&(e=$e(i,o(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(l,a){e&&oe(e,l,a),x(l,t,a),n=!0},p(l,a){const u=a&64?Lt(s,[Bt(l[6])]):{};if(a&8388706&&(u.$$scope={dirty:a,ctx:l}),i!==(i=l[5][l[0]])){if(e){we();const c=e;F(c.$$.fragment,1,0,()=>{le(c,1)}),ve()}i?(e=$e(i,o(l)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(l){n||(e&&R(e.$$.fragment,l),n=!0)},o(l){e&&F(e.$$.fragment,l),n=!1},d(l){l&&E(t),e&&le(e,l)}}}function Gu(r){let e,t,n,s;const i=[Ku,Qu],o=[];function l(a,u){return a[4]?0:1}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,u){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function Ju(r){let e,t,n;var s=r[5].table;function i(o){return{props:{$$slots:{default:[uc]},$$scope:{ctx:o}}}}return s&&(e=$e(s,i(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(o,l){e&&oe(e,o,l),x(o,t,l),n=!0},p(o,l){const a={};if(l&8388716&&(a.$$scope={dirty:l,ctx:o}),s!==(s=o[5].table)){if(e){we();const u=e;F(u.$$.fragment,1,0,()=>{le(u,1)}),ve()}s?(e=$e(s,i(o)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(o){n||(e&&R(e.$$.fragment,o),n=!0)},o(o){e&&F(e.$$.fragment,o),n=!1},d(o){o&&E(t),e&&le(e,o)}}}function Yu(r){let e=r[6].raw+"",t;return{c(){t=X(e)},m(n,s){x(n,t,s)},p(n,s){s&64&&e!==(e=n[6].raw+"")&&be(t,e)},i:H,o:H,d(n){n&&E(t)}}}function Zu(r){let e,t;return e=new xt({props:{tokens:r[1],renderers:r[5]}}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.tokens=n[1]),s&32&&(i.renderers=n[5]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Wu(r){let e,t,n,s;const i=[Zu,Yu],o=[];function l(a,u){return a[1]?0:1}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,u){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function Qu(r){let e,t,n;const s=[{ordered:r[4]},r[6]];var i=r[5].list;function o(l){let a={$$slots:{default:[ec]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)a=mt(a,s[u]);return{props:a}}return i&&(e=$e(i,o(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(l,a){e&&oe(e,l,a),x(l,t,a),n=!0},p(l,a){const u=a&80?Lt(s,[a&16&&{ordered:l[4]},a&64&&Bt(l[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:l}),i!==(i=l[5].list)){if(e){we();const c=e;F(c.$$.fragment,1,0,()=>{le(c,1)}),ve()}i?(e=$e(i,o(l)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(l){n||(e&&R(e.$$.fragment,l),n=!0)},o(l){e&&F(e.$$.fragment,l),n=!1},d(l){l&&E(t),e&&le(e,l)}}}function Ku(r){let e,t,n;const s=[{ordered:r[4]},r[6]];var i=r[5].list;function o(l){let a={$$slots:{default:[nc]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)a=mt(a,s[u]);return{props:a}}return i&&(e=$e(i,o(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(l,a){e&&oe(e,l,a),x(l,t,a),n=!0},p(l,a){const u=a&80?Lt(s,[a&16&&{ordered:l[4]},a&64&&Bt(l[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:l}),i!==(i=l[5].list)){if(e){we();const c=e;F(c.$$.fragment,1,0,()=>{le(c,1)}),ve()}i?(e=$e(i,o(l)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(l){n||(e&&R(e.$$.fragment,l),n=!0)},o(l){e&&F(e.$$.fragment,l),n=!1},d(l){l&&E(t),e&&le(e,l)}}}function Xu(r){let e,t,n;return e=new xt({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){ue(e.$$.fragment),t=$()},m(s,i){oe(e,s,i),x(s,t,i),n=!0},p(s,i){const o={};i&64&&(o.tokens=s[18].tokens),i&32&&(o.renderers=s[5]),e.$set(o)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){le(e,s),s&&E(t)}}}function pi(r){let e,t,n;const s=[r[18]];var i=r[5].unorderedlistitem||r[5].listitem;function o(l){let a={$$slots:{default:[Xu]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)a=mt(a,s[u]);return{props:a}}return i&&(e=$e(i,o(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(l,a){e&&oe(e,l,a),x(l,t,a),n=!0},p(l,a){const u=a&64?Lt(s,[Bt(l[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:l}),i!==(i=l[5].unorderedlistitem||l[5].listitem)){if(e){we();const c=e;F(c.$$.fragment,1,0,()=>{le(c,1)}),ve()}i?(e=$e(i,o(l)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(l){n||(e&&R(e.$$.fragment,l),n=!0)},o(l){e&&F(e.$$.fragment,l),n=!1},d(l){l&&E(t),e&&le(e,l)}}}function ec(r){let e,t,n=r[6].items,s=[];for(let o=0;o<n.length;o+=1)s[o]=pi(li(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ae()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&96){n=o[6].items;let a;for(a=0;a<n.length;a+=1){const u=li(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=pi(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function tc(r){let e,t,n;return e=new xt({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){ue(e.$$.fragment),t=$()},m(s,i){oe(e,s,i),x(s,t,i),n=!0},p(s,i){const o={};i&64&&(o.tokens=s[18].tokens),i&32&&(o.renderers=s[5]),e.$set(o)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){le(e,s),s&&E(t)}}}function hi(r){let e,t,n;const s=[r[18]];var i=r[5].orderedlistitem||r[5].listitem;function o(l){let a={$$slots:{default:[tc]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)a=mt(a,s[u]);return{props:a}}return i&&(e=$e(i,o(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(l,a){e&&oe(e,l,a),x(l,t,a),n=!0},p(l,a){const u=a&64?Lt(s,[Bt(l[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:l}),i!==(i=l[5].orderedlistitem||l[5].listitem)){if(e){we();const c=e;F(c.$$.fragment,1,0,()=>{le(c,1)}),ve()}i?(e=$e(i,o(l)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(l){n||(e&&R(e.$$.fragment,l),n=!0)},o(l){e&&F(e.$$.fragment,l),n=!1},d(l){l&&E(t),e&&le(e,l)}}}function nc(r){let e,t,n=r[6].items,s=[];for(let o=0;o<n.length;o+=1)s[o]=hi(ai(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ae()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&96){n=o[6].items;let a;for(a=0;a<n.length;a+=1){const u=ai(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=hi(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function sc(r){let e,t,n;return e=new xt({props:{tokens:r[16].tokens,renderers:r[5]}}),{c(){ue(e.$$.fragment),t=$()},m(s,i){oe(e,s,i),x(s,t,i),n=!0},p(s,i){const o={};i&4&&(o.tokens=s[16].tokens),i&32&&(o.renderers=s[5]),e.$set(o)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){le(e,s),s&&E(t)}}}function gi(r){let e,t,n;var s=r[5].tablecell;function i(o){return{props:{header:!0,align:o[6].align[o[15]]||"center",$$slots:{default:[sc]},$$scope:{ctx:o}}}}return s&&(e=$e(s,i(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(o,l){e&&oe(e,o,l),x(o,t,l),n=!0},p(o,l){const a={};if(l&64&&(a.align=o[6].align[o[15]]||"center"),l&8388644&&(a.$$scope={dirty:l,ctx:o}),s!==(s=o[5].tablecell)){if(e){we();const u=e;F(u.$$.fragment,1,0,()=>{le(u,1)}),ve()}s?(e=$e(s,i(o)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(o){n||(e&&R(e.$$.fragment,o),n=!0)},o(o){e&&F(e.$$.fragment,o),n=!1},d(o){o&&E(t),e&&le(e,o)}}}function rc(r){let e,t,n=r[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=gi(fi(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ae()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&100){n=o[2];let a;for(a=0;a<n.length;a+=1){const u=fi(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=gi(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function ic(r){let e,t,n;var s=r[5].tablerow;function i(o){return{props:{$$slots:{default:[rc]},$$scope:{ctx:o}}}}return s&&(e=$e(s,i(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(o,l){e&&oe(e,o,l),x(o,t,l),n=!0},p(o,l){const a={};if(l&8388708&&(a.$$scope={dirty:l,ctx:o}),s!==(s=o[5].tablerow)){if(e){we();const u=e;F(u.$$.fragment,1,0,()=>{le(u,1)}),ve()}s?(e=$e(s,i(o)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(o){n||(e&&R(e.$$.fragment,o),n=!0)},o(o){e&&F(e.$$.fragment,o),n=!1},d(o){o&&E(t),e&&le(e,o)}}}function oc(r){let e,t;return e=new xt({props:{tokens:r[13].tokens,renderers:r[5]}}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.tokens=n[13].tokens),s&32&&(i.renderers=n[5]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function mi(r){let e,t,n;var s=r[5].tablecell;function i(o){return{props:{header:!1,align:o[6].align[o[15]]||"center",$$slots:{default:[oc]},$$scope:{ctx:o}}}}return s&&(e=$e(s,i(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(o,l){e&&oe(e,o,l),x(o,t,l),n=!0},p(o,l){const a={};if(l&64&&(a.align=o[6].align[o[15]]||"center"),l&8388648&&(a.$$scope={dirty:l,ctx:o}),s!==(s=o[5].tablecell)){if(e){we();const u=e;F(u.$$.fragment,1,0,()=>{le(u,1)}),ve()}s?(e=$e(s,i(o)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(o){n||(e&&R(e.$$.fragment,o),n=!0)},o(o){e&&F(e.$$.fragment,o),n=!1},d(o){o&&E(t),e&&le(e,o)}}}function lc(r){let e,t,n=r[10],s=[];for(let o=0;o<n.length;o+=1)s[o]=mi(ci(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=$()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&104){n=o[10];let a;for(a=0;a<n.length;a+=1){const u=ci(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=mi(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function _i(r){let e,t,n;var s=r[5].tablerow;function i(o){return{props:{$$slots:{default:[lc]},$$scope:{ctx:o}}}}return s&&(e=$e(s,i(r))),{c(){e&&ue(e.$$.fragment),t=Ae()},m(o,l){e&&oe(e,o,l),x(o,t,l),n=!0},p(o,l){const a={};if(l&8388712&&(a.$$scope={dirty:l,ctx:o}),s!==(s=o[5].tablerow)){if(e){we();const u=e;F(u.$$.fragment,1,0,()=>{le(u,1)}),ve()}s?(e=$e(s,i(o)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(o){n||(e&&R(e.$$.fragment,o),n=!0)},o(o){e&&F(e.$$.fragment,o),n=!1},d(o){o&&E(t),e&&le(e,o)}}}function ac(r){let e,t,n=r[3],s=[];for(let o=0;o<n.length;o+=1)s[o]=_i(ui(r,n,o));const i=o=>F(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ae()},m(o,l){for(let a=0;a<s.length;a+=1)s[a].m(o,l);x(o,e,l),t=!0},p(o,l){if(l&104){n=o[3];let a;for(a=0;a<n.length;a+=1){const u=ui(o,n,a);s[a]?(s[a].p(u,l),R(s[a],1)):(s[a]=_i(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(we(),a=n.length;a<s.length;a+=1)i(a);ve()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)R(s[l]);t=!0}},o(o){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)F(s[l]);t=!1},d(o){nt(s,o),o&&E(e)}}}function uc(r){let e,t,n,s,i;var o=r[5].tablehead;function l(c){return{props:{$$slots:{default:[ic]},$$scope:{ctx:c}}}}o&&(e=$e(o,l(r)));var a=r[5].tablebody;function u(c){return{props:{$$slots:{default:[ac]},$$scope:{ctx:c}}}}return a&&(n=$e(a,u(r))),{c(){e&&ue(e.$$.fragment),t=$(),n&&ue(n.$$.fragment),s=Ae()},m(c,f){e&&oe(e,c,f),x(c,t,f),n&&oe(n,c,f),x(c,s,f),i=!0},p(c,f){const d={};if(f&8388708&&(d.$$scope={dirty:f,ctx:c}),o!==(o=c[5].tablehead)){if(e){we();const k=e;F(k.$$.fragment,1,0,()=>{le(k,1)}),ve()}o?(e=$e(o,l(c)),ue(e.$$.fragment),R(e.$$.fragment,1),oe(e,t.parentNode,t)):e=null}else o&&e.$set(d);const p={};if(f&8388712&&(p.$$scope={dirty:f,ctx:c}),a!==(a=c[5].tablebody)){if(n){we();const k=n;F(k.$$.fragment,1,0,()=>{le(k,1)}),ve()}a?(n=$e(a,u(c)),ue(n.$$.fragment),R(n.$$.fragment,1),oe(n,s.parentNode,s)):n=null}else a&&n.$set(p)},i(c){i||(e&&R(e.$$.fragment,c),n&&R(n.$$.fragment,c),i=!0)},o(c){e&&F(e.$$.fragment,c),n&&F(n.$$.fragment,c),i=!1},d(c){e&&le(e,c),c&&E(t),c&&E(s),n&&le(n,c)}}}function bi(r){let e,t;const n=[r[7],{renderers:r[5]}];let s={};for(let i=0;i<n.length;i+=1)s=mt(s,n[i]);return e=new xt({props:s}),{c(){ue(e.$$.fragment)},m(i,o){oe(e,i,o),t=!0},p(i,o){const l=o&34?Lt(n,[o&2&&Bt(i[7]),o&32&&{renderers:i[5]}]):{};e.$set(l)},i(i){t||(R(e.$$.fragment,i),t=!0)},o(i){F(e.$$.fragment,i),t=!1},d(i){le(e,i)}}}function cc(r){let e,t,n,s;const i=[qu,zu],o=[];function l(a,u){return a[0]?a[5][a[0]]?1:-1:0}return~(e=l(r))&&(t=o[e]=i[e](r)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&o[e].m(a,u),x(a,n,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?~e&&o[e].p(a,u):(t&&(we(),F(o[c],1,1,()=>{o[c]=null}),ve()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n)):t=null)},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){~e&&o[e].d(a),a&&E(n)}}}function fc(r,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let s=ir(e,n),{type:i=void 0}=e,{tokens:o=void 0}=e,{header:l=void 0}=e,{rows:a=void 0}=e,{ordered:u=!1}=e,{renderers:c}=e;return Vu(),r.$$set=f=>{e=mt(mt({},e),Go(f)),t(6,s=ir(e,n)),"type"in f&&t(0,i=f.type),"tokens"in f&&t(1,o=f.tokens),"header"in f&&t(2,l=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,u=f.ordered),"renderers"in f&&t(5,c=f.renderers)},[i,o,l,a,u,c,s]}let xt=class extends me{constructor(e){super(),ge(this,e,fc,cc,pe,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function jo(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Nt=jo();function dc(r){Nt=r}const Mo=/[&<>"']/,pc=new RegExp(Mo.source,"g"),Do=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,hc=new RegExp(Do.source,"g"),gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yi=r=>gc[r];function qe(r,e){if(e){if(Mo.test(r))return r.replace(pc,yi)}else if(Do.test(r))return r.replace(hc,yi);return r}const mc=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Uo(r){return r.replace(mc,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const _c=/(^|[^\[])\^/g;function Ie(r,e){r=typeof r=="string"?r:r.source,e=e||"";const t={replace:(n,s)=>(s=s.source||s,s=s.replace(_c,"$1"),r=r.replace(n,s),t),getRegex:()=>new RegExp(r,e)};return t}const bc=/[^\w:]/g,yc=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function wi(r,e,t){if(r){let n;try{n=decodeURIComponent(Uo(t)).replace(bc,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!yc.test(t)&&(t=Sc(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const gn={},wc=/^[^:]+:\/*[^/]*$/,vc=/^([^:]+:)[\s\S]*$/,kc=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Sc(r,e){gn[" "+r]||(wc.test(r)?gn[" "+r]=r+"/":gn[" "+r]=vn(r,"/",!0)),r=gn[" "+r];const t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(vc,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(kc,"$1")+e:r+e}const xn={exec:function(){}};function it(r){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}function vi(r,e){const t=r.replace(/\|/g,(i,o,l)=>{let a=!1,u=o;for(;--u>=0&&l[u]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function vn(r,e,t){const n=r.length;if(n===0)return"";let s=0;for(;s<n;){const i=r.charAt(n-s-1);if(i===e&&!t)s++;else if(i!==e&&t)s++;else break}return r.slice(0,n-s)}function Ac(r,e){if(r.indexOf(e[1])===-1)return-1;const t=r.length;let n=0,s=0;for(;s<t;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])n++;else if(r[s]===e[1]&&(n--,n<0))return s;return-1}function Lo(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ki(r,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function Si(r,e,t,n){const s=e.href,i=e.title?qe(e.title):null,o=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:t,href:s,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:t,href:s,title:i,text:qe(o)}}function Tc(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[o]=i;return o.length>=n.length?s.slice(n.length):s}).join(`
`)}class qs{constructor(e){this.options=e||Nt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:vn(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],s=Tc(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const s=vn(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:i,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,i,o,l,a,u,c,f,d,p,k,v=t[1].trim();const _=v.length>1,T={type:"list",raw:"",ordered:_,start:_?+v.slice(0,-1):"",loose:!1,items:[]};v=_?`\\d{1,9}\\${v.slice(-1)}`:`\\${v}`,this.options.pedantic&&(v=_?v:"[*+-]");const m=new RegExp(`^( {0,3}${v})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(k=!1,!(!(t=m.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),c=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),f=e.split(`
`,1)[0],this.options.pedantic?(o=2,p=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,p=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),k=!0),!k){const b=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(A.test(f)||P.test(f)||b.test(f)||S.test(e)));){if(f.search(/[^ ]/)>=o||!f.trim())p+=`
`+f.slice(o);else{if(a||c.search(/[^ ]/)>=4||A.test(c)||P.test(c)||S.test(c))break;p+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),c=f.slice(o)}}T.loose||(u?T.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(p),s&&(i=s[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),T.items.push({type:"list_item",raw:n,task:!!s,checked:i,loose:!1,text:p}),T.raw+=n}T.items[T.items.length-1].raw=n.trimRight(),T.items[T.items.length-1].text=p.trimRight(),T.raw=T.raw.trimRight();const w=T.items.length;for(l=0;l<w;l++)if(this.lexer.state.top=!1,T.items[l].tokens=this.lexer.blockTokens(T.items[l].text,[]),!T.loose){const b=T.items[l].tokens.filter(A=>A.type==="space"),S=b.length>0&&b.some(A=>/\n.*\n/.test(A.raw));T.loose=S}if(T.loose)for(l=0;l<w;l++)T.items[l].loose=!0;return T}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(t[0]):qe(t[0]);n.type="paragraph",n.text=s,n.tokens=this.lexer.inline(s)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:s,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:vi(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let s=n.align.length,i,o,l,a;for(i=0;i<s;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(s=n.rows.length,i=0;i<s;i++)n.rows[i]=vi(n.rows[i],n.header.length).map(u=>({text:u}));for(s=n.header.length,o=0;o<s;o++)n.header[o].tokens=this.lexer.inline(n.header[o].text);for(s=n.rows.length,o=0;o<s;o++)for(a=n.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:qe(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):qe(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=vn(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=Ac(t[2],"()");if(o>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let s=t[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(n)?s=s.slice(1):s=s.slice(1,-1)),Si(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let s=(n[2]||n[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Si(n,s,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=s[1]||s[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){const o=s[0].length-1;let l,a,u=o,c=0;const f=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+o);(s=f.exec(t))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(a=l.length,s[3]||s[4]){u+=a;continue}else if((s[5]||s[6])&&o%3&&!((o+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const d=e.slice(0,o+s.index+(s[0].length-l.length)+a);if(Math.min(o,a)%2){const k=d.slice(1,-1);return{type:"em",raw:d,text:k,tokens:this.lexer.inlineTokens(k)}}const p=d.slice(2,-2);return{type:"strong",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const s=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return s&&i&&(n=n.substring(1,n.length-1)),n=qe(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let s,i;return n[2]==="@"?(s=qe(this.options.mangle?t(n[1]):n[1]),i="mailto:"+s):(s=qe(n[1]),i=s),{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let s,i;if(n[2]==="@")s=qe(this.options.mangle?t(n[0]):n[0]),i="mailto:"+s;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);s=qe(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):qe(n[0]):n[0]:s=qe(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:s}}}}const ee={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ee._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ee._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ee.def=Ie(ee.def).replace("label",ee._label).replace("title",ee._title).getRegex();ee.bullet=/(?:[*+-]|\d{1,9}[.)])/;ee.listItemStart=Ie(/^( *)(bull) */).replace("bull",ee.bullet).getRegex();ee.list=Ie(ee.list).replace(/bull/g,ee.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ee.def.source+")").getRegex();ee._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ee._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ee.html=Ie(ee.html,"i").replace("comment",ee._comment).replace("tag",ee._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ee.paragraph=Ie(ee._paragraph).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex();ee.blockquote=Ie(ee.blockquote).replace("paragraph",ee.paragraph).getRegex();ee.normal=it({},ee);ee.gfm=it({},ee.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ee.gfm.table=Ie(ee.gfm.table).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex();ee.gfm.paragraph=Ie(ee._paragraph).replace("hr",ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ee.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ee._tag).getRegex();ee.pedantic=it({},ee.normal,{html:Ie(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ee._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ie(ee.normal._paragraph).replace("hr",ee.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ee.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const J={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};J._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";J.punctuation=Ie(J.punctuation).replace(/punctuation/g,J._punctuation).getRegex();J.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;J.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;J._comment=Ie(ee._comment).replace("(?:-->|$)","-->").getRegex();J.emStrong.lDelim=Ie(J.emStrong.lDelim).replace(/punct/g,J._punctuation).getRegex();J.emStrong.rDelimAst=Ie(J.emStrong.rDelimAst,"g").replace(/punct/g,J._punctuation).getRegex();J.emStrong.rDelimUnd=Ie(J.emStrong.rDelimUnd,"g").replace(/punct/g,J._punctuation).getRegex();J._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;J._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;J._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;J.autolink=Ie(J.autolink).replace("scheme",J._scheme).replace("email",J._email).getRegex();J._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;J.tag=Ie(J.tag).replace("comment",J._comment).replace("attribute",J._attribute).getRegex();J._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;J._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;J._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;J.link=Ie(J.link).replace("label",J._label).replace("href",J._href).replace("title",J._title).getRegex();J.reflink=Ie(J.reflink).replace("label",J._label).replace("ref",ee._label).getRegex();J.nolink=Ie(J.nolink).replace("ref",ee._label).getRegex();J.reflinkSearch=Ie(J.reflinkSearch,"g").replace("reflink",J.reflink).replace("nolink",J.nolink).getRegex();J.normal=it({},J);J.pedantic=it({},J.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ie(/^!?\[(label)\]\((.*?)\)/).replace("label",J._label).getRegex(),reflink:Ie(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",J._label).getRegex()});J.gfm=it({},J.normal,{escape:Ie(J.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});J.gfm.url=Ie(J.gfm.url,"i").replace("email",J.gfm._extended_email).getRegex();J.breaks=it({},J.gfm,{br:Ie(J.br).replace("{2,}","*").getRegex(),text:Ie(J.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Oc(r){return r.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Ai(r){let e="",t,n;const s=r.length;for(t=0;t<s;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class dt{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Nt,this.options.tokenizer=this.options.tokenizer||new qs,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:ee.normal,inline:J.normal};this.options.pedantic?(t.block=ee.pedantic,t.inline=J.pedantic):this.options.gfm&&(t.block=ee.gfm,this.options.breaks?t.inline=J.breaks:t.inline=J.gfm),this.tokenizer.rules=t}static get rules(){return{block:ee,inline:J}}static lex(e,t){return new dt(t).lex(e)}static lexInline(e,t){return new dt(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,u)=>a+"    ".repeat(u.length));let n,s,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(n=l.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){s=t[t.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,i,o=e,l,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+ki("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+ki("a",l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,l.index+l[0].length-2)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Ai)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Ai))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(p){d=p.call({lexer:this},f),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(i=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(i,Oc)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}}class Hs{constructor(e){this.options=e||Nt}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,s);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+qe(s)+'">'+(n?e:qe(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:qe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,s){if(this.options.headerIds){const i=this.options.headerPrefix+s.slug(n);return`<h${t} id="${i}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=wi(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(e=wi(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class Bo{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Gs{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do s++,n=e+"-"+s;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class ft{constructor(e){this.options=e||Nt,this.options.renderer=this.options.renderer||new Hs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Bo,this.slugger=new Gs}static parse(e,t){return new ft(t).parse(e)}static parseInline(e,t){return new ft(t).parseInline(e)}parse(e,t=!0){let n="",s,i,o,l,a,u,c,f,d,p,k,v,_,T,m,w,b,S,A;const P=e.length;for(s=0;s<P;s++){if(p=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(A=this.options.extensions.renderers[p.type].call({parser:this},p),A!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))){n+=A||"";continue}switch(p.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(p.tokens),p.depth,Uo(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{for(f="",c="",l=p.header.length,i=0;i<l;i++)c+=this.renderer.tablecell(this.parseInline(p.header[i].tokens),{header:!0,align:p.align[i]});for(f+=this.renderer.tablerow(c),d="",l=p.rows.length,i=0;i<l;i++){for(u=p.rows[i],c="",a=u.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(u[o].tokens),{header:!1,align:p.align[o]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(p.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(k=p.ordered,v=p.start,_=p.loose,l=p.items.length,d="",i=0;i<l;i++)m=p.items[i],w=m.checked,b=m.task,T="",m.task&&(S=this.renderer.checkbox(w),_?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=S+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=S+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:S}):T+=S),T+=this.parse(m.tokens,_),d+=this.renderer.listitem(T,b,w);n+=this.renderer.list(d,k,v);continue}case"html":{n+=this.renderer.html(p.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{for(d=p.tokens?this.parseInline(p.tokens):p.text;s+1<P&&e[s+1].type==="text";)p=e[++s],d+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const I='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",s,i,o;const l=e.length;for(s=0;s<l;s++){if(i=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(o=this.options.extensions.renderers[i.type].call({parser:this},i),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=o||"";continue}switch(i.type){case"escape":{n+=t.text(i.text);break}case"html":{n+=t.html(i.text);break}case"link":{n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{n+=t.image(i.href,i.title,i.text);break}case"strong":{n+=t.strong(this.parseInline(i.tokens,t));break}case"em":{n+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{n+=t.codespan(i.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(i.tokens,t));break}case"text":{n+=t.text(i.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}function ne(r,e,t){if(typeof r>"u"||r===null)throw new Error("marked(): input parameter is undefined or null");if(typeof r!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=it({},ne.defaults,e||{}),Lo(e),t){const s=e.highlight;let i;try{i=dt.lex(r,e)}catch(a){return t(a)}const o=function(a){let u;if(!a)try{e.walkTokens&&ne.walkTokens(i,e.walkTokens),u=ft.parse(i,e)}catch(c){a=c}return e.highlight=s,a?t(a):t(null,u)};if(!s||s.length<3||(delete e.highlight,!i.length))return o();let l=0;ne.walkTokens(i,function(a){a.type==="code"&&(l++,setTimeout(()=>{s(a.text,a.lang,function(u,c){if(u)return o(u);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),l--,l===0&&o()})},0))}),l===0&&o();return}function n(s){if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+qe(s.message+"",!0)+"</pre>";throw s}try{const s=dt.lex(r,e);if(e.walkTokens){if(e.async)return Promise.all(ne.walkTokens(s,e.walkTokens)).then(()=>ft.parse(s,e)).catch(n);ne.walkTokens(s,e.walkTokens)}return ft.parse(s,e)}catch(s){n(s)}}ne.options=ne.setOptions=function(r){return it(ne.defaults,r),dc(ne.defaults),ne};ne.getDefaults=jo;ne.defaults=Nt;ne.use=function(...r){const e=ne.defaults.extensions||{renderers:{},childTokens:{}};r.forEach(t=>{const n=it({},t);if(n.async=ne.defaults.async||n.async,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=i.apply(this,o)),l}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),t.renderer){const s=ne.defaults.renderer||new Hs;for(const i in t.renderer){const o=s[i];s[i]=(...l)=>{let a=t.renderer[i].apply(s,l);return a===!1&&(a=o.apply(s,l)),a}}n.renderer=s}if(t.tokenizer){const s=ne.defaults.tokenizer||new qs;for(const i in t.tokenizer){const o=s[i];s[i]=(...l)=>{let a=t.tokenizer[i].apply(s,l);return a===!1&&(a=o.apply(s,l)),a}}n.tokenizer=s}if(t.walkTokens){const s=ne.defaults.walkTokens;n.walkTokens=function(i){let o=[];return o.push(t.walkTokens.call(this,i)),s&&(o=o.concat(s.call(this,i))),o}}ne.setOptions(n)})};ne.walkTokens=function(r,e){let t=[];for(const n of r)switch(t=t.concat(e.call(ne,n)),n.type){case"table":{for(const s of n.header)t=t.concat(ne.walkTokens(s.tokens,e));for(const s of n.rows)for(const i of s)t=t.concat(ne.walkTokens(i.tokens,e));break}case"list":{t=t.concat(ne.walkTokens(n.items,e));break}default:ne.defaults.extensions&&ne.defaults.extensions.childTokens&&ne.defaults.extensions.childTokens[n.type]?ne.defaults.extensions.childTokens[n.type].forEach(function(s){t=t.concat(ne.walkTokens(n[s],e))}):n.tokens&&(t=t.concat(ne.walkTokens(n.tokens,e)))}return t};ne.parseInline=function(r,e){if(typeof r>"u"||r===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof r!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");e=it({},ne.defaults,e||{}),Lo(e);try{const t=dt.lexInline(r,e);return e.walkTokens&&ne.walkTokens(t,e.walkTokens),ft.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+qe(t.message+"",!0)+"</pre>";throw t}};ne.Parser=ft;ne.parser=ft.parse;ne.Renderer=Hs;ne.TextRenderer=Bo;ne.Lexer=dt;ne.lexer=dt.lex;ne.Tokenizer=qs;ne.Slugger=Gs;ne.parse=ne;ne.options;ne.setOptions;ne.use;ne.walkTokens;ne.parseInline;ft.parse;dt.lex;const No={};function Ec(r){let e;return{c(){e=X(r[1])},m(t,n){x(t,e,n)},p(t,n){n&2&&be(e,t[1])},i:H,o:H,d(t){t&&E(e)}}}function xc(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h6"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Pc(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h5"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Rc(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h4"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Fc(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h3"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Ic(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h2"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function $c(r){let e,t;const n=r[5].default,s=xe(n,r,r[4],null);return{c(){e=y("h1"),s&&s.c(),h(e,"id",r[2])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&16)&&Re(s,n,i,i[4],t?Pe(n,i[4],o,null):Fe(i[4]),null),(!t||o&4)&&h(e,"id",i[2])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Cc(r){let e,t,n,s;const i=[$c,Ic,Fc,Rc,Pc,xc,Ec],o=[];function l(a,u){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function jc(r,e,t){let n,{$$slots:s={},$$scope:i}=e,{depth:o}=e,{raw:l}=e,{text:a}=e;const{slug:u,getOptions:c}=el(No),f=c();return r.$$set=d=>{"depth"in d&&t(0,o=d.depth),"raw"in d&&t(1,l=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,i=d.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+u(a):void 0)},[o,l,n,a,i,s]}class Mc extends me{constructor(e){super(),ge(this,e,jc,Cc,pe,{depth:0,raw:1,text:3})}}function Dc(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("p"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Uc(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let Lc=class extends me{constructor(e){super(),ge(this,e,Uc,Dc,pe,{})}};function Bc(r){let e;const t=r[3].default,n=xe(t,r,r[2],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,[i]){n&&n.p&&(!e||i&4)&&Re(n,t,s,s[2],e?Pe(t,s[2],i,null):Fe(s[2]),null)},i(s){e||(R(n,s),e=!0)},o(s){F(n,s),e=!1},d(s){n&&n.d(s)}}}function Nc(r,e,t){let{$$slots:n={},$$scope:s}=e,{text:i}=e,{raw:o}=e;return r.$$set=l=>{"text"in l&&t(0,i=l.text),"raw"in l&&t(1,o=l.raw),"$$scope"in l&&t(2,s=l.$$scope)},[i,o,s,n]}class Vc extends me{constructor(e){super(),ge(this,e,Nc,Bc,pe,{text:0,raw:1})}}function zc(r){let e,t;return{c(){e=y("img"),De(e.src,t=r[0])||h(e,"src",t),h(e,"title",r[1]),h(e,"alt",r[2])},m(n,s){x(n,e,s)},p(n,[s]){s&1&&!De(e.src,t=n[0])&&h(e,"src",t),s&2&&h(e,"title",n[1]),s&4&&h(e,"alt",n[2])},i:H,o:H,d(n){n&&E(e)}}}function qc(r,e,t){let{href:n=""}=e,{title:s=void 0}=e,{text:i=""}=e;return r.$$set=o=>{"href"in o&&t(0,n=o.href),"title"in o&&t(1,s=o.title),"text"in o&&t(2,i=o.text)},[n,s,i]}class Hc extends me{constructor(e){super(),ge(this,e,qc,zc,pe,{href:0,title:1,text:2})}}function Gc(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("a"),s&&s.c(),h(e,"href",r[0]),h(e,"title",r[1])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null),(!t||o&1)&&h(e,"href",i[0]),(!t||o&2)&&h(e,"title",i[1])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Jc(r,e,t){let{$$slots:n={},$$scope:s}=e,{href:i=""}=e,{title:o=void 0}=e;return r.$$set=l=>{"href"in l&&t(0,i=l.href),"title"in l&&t(1,o=l.title),"$$scope"in l&&t(2,s=l.$$scope)},[i,o,s,n]}class Yc extends me{constructor(e){super(),ge(this,e,Jc,Gc,pe,{href:0,title:1})}}function Zc(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("em"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Wc(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let Qc=class extends me{constructor(e){super(),ge(this,e,Wc,Zc,pe,{})}};function Kc(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("del"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Xc(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class ef extends me{constructor(e){super(),ge(this,e,Xc,Kc,pe,{})}}function tf(r){let e,t=r[0].replace(/`/g,"")+"",n;return{c(){e=y("code"),n=X(t)},m(s,i){x(s,e,i),g(e,n)},p(s,[i]){i&1&&t!==(t=s[0].replace(/`/g,"")+"")&&be(n,t)},i:H,o:H,d(s){s&&E(e)}}}function nf(r,e,t){let{raw:n}=e;return r.$$set=s=>{"raw"in s&&t(0,n=s.raw)},[n]}class sf extends me{constructor(e){super(),ge(this,e,nf,tf,pe,{raw:0})}}function rf(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("strong"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function of(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class lf extends me{constructor(e){super(),ge(this,e,of,rf,pe,{})}}function af(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("table"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function uf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class cf extends me{constructor(e){super(),ge(this,e,uf,af,pe,{})}}function ff(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("thead"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function df(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class pf extends me{constructor(e){super(),ge(this,e,df,ff,pe,{})}}function hf(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("tbody"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function gf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class mf extends me{constructor(e){super(),ge(this,e,gf,hf,pe,{})}}function _f(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("tr"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function bf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class yf extends me{constructor(e){super(),ge(this,e,bf,_f,pe,{})}}function wf(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("td"),s&&s.c(),h(e,"align",r[1])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null),(!t||o&2)&&h(e,"align",i[1])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function vf(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("th"),s&&s.c(),h(e,"align",r[1])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null),(!t||o&2)&&h(e,"align",i[1])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function kf(r){let e,t,n,s;const i=[vf,wf],o=[];function l(a,u){return a[0]?0:1}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function Sf(r,e,t){let{$$slots:n={},$$scope:s}=e,{header:i}=e,{align:o}=e;return r.$$set=l=>{"header"in l&&t(0,i=l.header),"align"in l&&t(1,o=l.align),"$$scope"in l&&t(2,s=l.$$scope)},[i,o,s,n]}class Af extends me{constructor(e){super(),ge(this,e,Sf,kf,pe,{header:0,align:1})}}function Tf(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("ul"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Of(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("ol"),s&&s.c(),h(e,"start",r[1])},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null),(!t||o&2)&&h(e,"start",i[1])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Ef(r){let e,t,n,s;const i=[Of,Tf],o=[];function l(a,u){return a[0]?0:1}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function xf(r,e,t){let{$$slots:n={},$$scope:s}=e,{ordered:i}=e,{start:o}=e;return r.$$set=l=>{"ordered"in l&&t(0,i=l.ordered),"start"in l&&t(1,o=l.start),"$$scope"in l&&t(2,s=l.$$scope)},[i,o,s,n]}class Pf extends me{constructor(e){super(),ge(this,e,xf,Ef,pe,{ordered:0,start:1})}}function Rf(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("li"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Ff(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let If=class extends me{constructor(e){super(),ge(this,e,Ff,Rf,pe,{})}};function $f(r){let e;return{c(){e=y("hr")},m(t,n){x(t,e,n)},p:H,i:H,o:H,d(t){t&&E(e)}}}class Cf extends me{constructor(e){super(),ge(this,e,null,$f,pe,{})}}function jf(r){let e,t;return{c(){e=new Wo(!1),t=Ae(),e.a=t},m(n,s){e.m(r[0],n,s),x(n,t,s)},p(n,[s]){s&1&&e.p(n[0])},i:H,o:H,d(n){n&&E(t),n&&e.d()}}}function Mf(r,e,t){let{text:n}=e;return r.$$set=s=>{"text"in s&&t(0,n=s.text)},[n]}let Df=class extends me{constructor(e){super(),ge(this,e,Mf,jf,pe,{text:0})}};function Uf(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("blockquote"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Lf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Bf extends me{constructor(e){super(),ge(this,e,Lf,Uf,pe,{})}}function Nf(r){let e,t,n;return{c(){e=y("pre"),t=y("code"),n=X(r[1]),h(e,"class",r[0])},m(s,i){x(s,e,i),g(e,t),g(t,n)},p(s,[i]){i&2&&be(n,s[1]),i&1&&h(e,"class",s[0])},i:H,o:H,d(s){s&&E(e)}}}function Vf(r,e,t){let{lang:n}=e,{text:s}=e;return r.$$set=i=>{"lang"in i&&t(0,n=i.lang),"text"in i&&t(1,s=i.text)},[n,s]}let zf=class extends me{constructor(e){super(),ge(this,e,Vf,Nf,pe,{lang:0,text:1})}};function qf(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("br"),s&&s.c()},m(i,o){x(i,e,o),s&&s.m(i,o),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function Hf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Gf extends me{constructor(e){super(),ge(this,e,Hf,qf,pe,{})}}const Jf={heading:Mc,paragraph:Lc,text:Vc,image:Hc,link:Yc,em:Qc,strong:lf,codespan:sf,del:ef,table:cf,tablehead:pf,tablebody:mf,tablerow:yf,tablecell:Af,list:Pf,orderedlistitem:null,unorderedlistitem:null,listitem:If,hr:Cf,html:Df,blockquote:Bf,code:zf,br:Gf},Yf={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function Zf(r){let e,t;return e=new xt({props:{tokens:r[0],renderers:r[1]}}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p(n,[s]){const i={};s&1&&(i.tokens=n[0]),s&2&&(i.renderers=n[1]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Wf(r,e,t){let n,s,i,o,{source:l=[]}=e,{renderers:a={}}=e,{options:u={}}=e,{isInline:c=!1}=e;const f=on();let d,p,k;return Xo(No,{slug:v=>s?s.slug(v):"",getOptions:()=>i}),rn(()=>{t(7,k=!0)}),r.$$set=v=>{"source"in v&&t(2,l=v.source),"renderers"in v&&t(3,a=v.renderers),"options"in v&&t(4,u=v.options),"isInline"in v&&t(5,c=v.isInline)},r.$$.update=()=>{r.$$.dirty&4&&t(8,n=Array.isArray(l)),r.$$.dirty&4&&(s=l?new Gs:void 0),r.$$.dirty&16&&t(9,i={...Yf,...u}),r.$$.dirty&869&&(n?t(0,d=l):(t(6,p=new dt(i)),t(0,d=c?p.inlineTokens(l):p.lex(l)),f("parsed",{tokens:d}))),r.$$.dirty&8&&t(1,o={...Jf,...a}),r.$$.dirty&385&&k&&!n&&f("parsed",{tokens:d})},[d,o,l,a,u,c,p,k,n,i]}class Qf extends me{constructor(e){super(),ge(this,e,Wf,Zf,pe,{source:2,renderers:3,options:4,isInline:5})}}var Os={},Kf={get exports(){return Os},set exports(r){Os=r}};(function(r){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},l={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function m(w){return w instanceof a?new a(w.type,m(w.content),w.alias):Array.isArray(w)?w.map(m):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++i}),m.__id},clone:function m(w,b){b=b||{};var S,A;switch(l.util.type(w)){case"Object":if(A=l.util.objId(w),b[A])return b[A];S={},b[A]=S;for(var P in w)w.hasOwnProperty(P)&&(S[P]=m(w[P],b));return S;case"Array":return A=l.util.objId(w),b[A]?b[A]:(S=[],b[A]=S,w.forEach(function(I,O){S[O]=m(I,b)}),S);default:return w}},getLanguage:function(m){for(;m;){var w=s.exec(m.className);if(w)return w[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,w){m.className=m.className.replace(RegExp(s,"gi"),""),m.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT"&&1<2)return document.currentScript;try{throw new Error}catch(S){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(m){var w=document.getElementsByTagName("script");for(var b in w)if(w[b].src==m)return w[b]}return null}},isActive:function(m,w,b){for(var S="no-"+w;m;){var A=m.classList;if(A.contains(w))return!0;if(A.contains(S))return!1;m=m.parentElement}return!!b}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(m,w){var b=l.util.clone(l.languages[m]);for(var S in w)b[S]=w[S];return b},insertBefore:function(m,w,b,S){S=S||l.languages;var A=S[m],P={};for(var I in A)if(A.hasOwnProperty(I)){if(I==w)for(var O in b)b.hasOwnProperty(O)&&(P[O]=b[O]);b.hasOwnProperty(I)||(P[I]=A[I])}var M=S[m];return S[m]=P,l.languages.DFS(l.languages,function(L,N){N===M&&L!=m&&(this[L]=P)}),P},DFS:function m(w,b,S,A){A=A||{};var P=l.util.objId;for(var I in w)if(w.hasOwnProperty(I)){b.call(w,I,w[I],S||I);var O=w[I],M=l.util.type(O);M==="Object"&&!A[P(O)]?(A[P(O)]=!0,m(O,b,null,A)):M==="Array"&&!A[P(O)]&&(A[P(O)]=!0,m(O,b,I,A))}}},plugins:{},highlightAll:function(m,w){l.highlightAllUnder(document,m,w)},highlightAllUnder:function(m,w,b){var S={callback:b,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),l.hooks.run("before-all-elements-highlight",S);for(var A=0,P;P=S.elements[A++];)l.highlightElement(P,w===!0,S.callback)},highlightElement:function(m,w,b){var S=l.util.getLanguage(m),A=l.languages[S];l.util.setLanguage(m,S);var P=m.parentElement;P&&P.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(P,S);var I=m.textContent,O={element:m,language:S,grammar:A,code:I};function M(N){O.highlightedCode=N,l.hooks.run("before-insert",O),O.element.innerHTML=O.highlightedCode,l.hooks.run("after-highlight",O),l.hooks.run("complete",O),b&&b.call(O.element)}if(l.hooks.run("before-sanity-check",O),P=O.element.parentElement,P&&P.nodeName.toLowerCase()==="pre"&&!P.hasAttribute("tabindex")&&P.setAttribute("tabindex","0"),!O.code){l.hooks.run("complete",O),b&&b.call(O.element);return}if(l.hooks.run("before-highlight",O),!O.grammar){M(l.util.encode(O.code));return}if(w&&n.Worker){var L=new Worker(l.filename);L.onmessage=function(N){M(N.data)},L.postMessage(JSON.stringify({language:O.language,code:O.code,immediateClose:!0}))}else M(l.highlight(O.code,O.grammar,O.language))},highlight:function(m,w,b){var S={code:m,grammar:w,language:b};if(l.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=l.tokenize(S.code,S.grammar),l.hooks.run("after-tokenize",S),a.stringify(l.util.encode(S.tokens),S.language)},tokenize:function(m,w){var b=w.rest;if(b){for(var S in b)w[S]=b[S];delete w.rest}var A=new f;return d(A,A.head,m),c(m,A,w,A.head,0),k(A)},hooks:{all:{},add:function(m,w){var b=l.hooks.all;b[m]=b[m]||[],b[m].push(w)},run:function(m,w){var b=l.hooks.all[m];if(!(!b||!b.length))for(var S=0,A;A=b[S++];)A(w)}},Token:a};n.Prism=l;function a(m,w,b,S){this.type=m,this.content=w,this.alias=b,this.length=(S||"").length|0}a.stringify=function m(w,b){if(typeof w=="string")return w;if(Array.isArray(w)){var S="";return w.forEach(function(M){S+=m(M,b)}),S}var A={type:w.type,content:m(w.content,b),tag:"span",classes:["token",w.type],attributes:{},language:b},P=w.alias;P&&(Array.isArray(P)?Array.prototype.push.apply(A.classes,P):A.classes.push(P)),l.hooks.run("wrap",A);var I="";for(var O in A.attributes)I+=" "+O+'="'+(A.attributes[O]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+I+">"+A.content+"</"+A.tag+">"};function u(m,w,b,S){m.lastIndex=w;var A=m.exec(b);if(A&&S&&A[1]){var P=A[1].length;A.index+=P,A[0]=A[0].slice(P)}return A}function c(m,w,b,S,A,P){for(var I in b)if(!(!b.hasOwnProperty(I)||!b[I])){var O=b[I];O=Array.isArray(O)?O:[O];for(var M=0;M<O.length;++M){if(P&&P.cause==I+","+M)return;var L=O[M],N=L.inside,Z=!!L.lookbehind,D=!!L.greedy,q=L.alias;if(D&&!L.pattern.global){var ke=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,ke+"g")}for(var se=L.pattern||L,C=S.next,z=A;C!==w.tail&&!(P&&z>=P.reach);z+=C.value.length,C=C.next){var G=C.value;if(w.length>m.length)return;if(!(G instanceof a)){var W=1,Q;if(D){if(Q=u(se,z,m,Z),!Q||Q.index>=m.length)break;var Oe=Q.index,re=Q.index+Q[0].length,he=z;for(he+=C.value.length;Oe>=he;)C=C.next,he+=C.value.length;if(he-=C.value.length,z=he,C.value instanceof a)continue;for(var ie=C;ie!==w.tail&&(he<re||typeof ie.value=="string");ie=ie.next)W++,he+=ie.value.length;W--,G=m.slice(z,he),Q.index-=z}else if(Q=u(se,0,G,Z),!Q)continue;var Oe=Q.index,Ue=Q[0],Ee=G.slice(0,Oe),Le=G.slice(Oe+Ue.length),He=z+G.length;P&&He>P.reach&&(P.reach=He);var ce=C.prev;Ee&&(ce=d(w,ce,Ee),z+=Ee.length),p(w,ce,W);var fe=new a(I,N?l.tokenize(Ue,N):Ue,q,Ue);if(C=d(w,ce,fe),Le&&d(w,C,Le),W>1){var j={cause:I+","+M,reach:He};c(m,w,b,C.prev,z,j),P&&j.reach>P.reach&&(P.reach=j.reach)}}}}}}function f(){var m={value:null,prev:null,next:null},w={value:null,prev:m,next:null};m.next=w,this.head=m,this.tail=w,this.length=0}function d(m,w,b){var S=w.next,A={value:b,prev:w,next:S};return w.next=A,S.prev=A,m.length++,A}function p(m,w,b){for(var S=w.next,A=0;A<b&&S!==m.tail;A++)S=S.next;w.next=S,S.prev=w,m.length-=A}function k(m){for(var w=[],b=m.head.next;b!==m.tail;)w.push(b.value),b=b.next;return w}if(!n.document)return n.addEventListener&&(l.disableWorkerMessageHandler||n.addEventListener("message",function(m){var w=JSON.parse(m.data),b=w.language,S=w.code,A=w.immediateClose;n.postMessage(l.highlight(S,l.languages[b],b)),A&&n.close()},!1)),l;var v=l.util.currentScript();v&&(l.filename=v.src,v.hasAttribute("data-manual")&&(l.manual=!0));function _(){l.manual||l.highlightAll()}if(!l.manual){var T=document.readyState;T==="loading"||T==="interactive"&&v&&v.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return l}(e);r.exports&&(r.exports=t),typeof at<"u"&&(at.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,i){var o={};o["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[i]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};l["language-"+i]={pattern:/[\s\S]+/,inside:t.languages[i]};var a={};a[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(n,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(n){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading",s=function(v,_){return" Error "+v+" while fetching file: "+_},i=" Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",u="loaded",c="failed",f="pre[data-src]:not(["+l+'="'+u+'"]):not(['+l+'="'+a+'"])';function d(v,_,T){var m=new XMLHttpRequest;m.open("GET",v,!0),m.onreadystatechange=function(){m.readyState==4&&(m.status<400&&m.responseText?_(m.responseText):m.status>=400?T(s(m.status,m.statusText)):T(i))},m.send(null)}function p(v){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(v||"");if(_){var T=Number(_[1]),m=_[2],w=_[3];return m?w?[T,Number(w)]:[T,void 0]:[T,T]}}t.hooks.add("before-highlightall",function(v){v.selector+=", "+f}),t.hooks.add("before-sanity-check",function(v){var _=v.element;if(_.matches(f)){v.code="",_.setAttribute(l,a);var T=_.appendChild(document.createElement("CODE"));T.textContent=n;var m=_.getAttribute("data-src"),w=v.language;if(w==="none"){var b=(/\.(\w+)$/.exec(m)||[,"none"])[1];w=o[b]||b}t.util.setLanguage(T,w),t.util.setLanguage(_,w);var S=t.plugins.autoloader;S&&S.loadLanguages(w),d(m,function(A){_.setAttribute(l,u);var P=p(_.getAttribute("data-range"));if(P){var I=A.split(/\r\n?|\n/g),O=P[0],M=P[1]==null?I.length:P[1];O<0&&(O+=I.length),O=Math.max(0,Math.min(O-1,I.length)),M<0&&(M+=I.length),M=Math.max(0,Math.min(M,I.length)),A=I.slice(O,M).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(O+1))}T.textContent=A,t.highlightElement(T)},function(A){_.setAttribute(l,c),T.textContent=A})}}),t.plugins.fileHighlight={highlight:function(_){for(var T=(_||document).querySelectorAll(f),m=0,w;w=T[m++];)t.highlightElement(w)}};var k=!1;t.fileHighlight=function(){k||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),k=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Kf);const Xf=Os;Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(r){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var t=r.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};s["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(r,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(r){r.languages.ruby=r.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),r.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:r.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete r.languages.ruby.function;var t="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",n=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;r.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+t+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+n),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+n+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),r.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+t),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+t),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete r.languages.ruby.string,r.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),r.languages.rb=r.languages.ruby})(Prism);(function(r){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",t={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:t,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};r.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:t}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},t.inside=r.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=n.variable[1].inside,o=0;o<s.length;o++)i[s[o]]=r.languages.bash[s[o]];r.languages.sh=r.languages.bash,r.languages.shell=r.languages.bash})(Prism);function ed(r){let e;return{c(){e=y("span")},m(t,n){x(t,e,n)},p:H,d(t){t&&E(e)}}}function td(r){let e,t;return{c(){e=y("span"),t=X(r[1]),h(e,"class","language-label svelte-5b6xwm")},m(n,s){x(n,e,s),g(e,t)},p(n,s){s&2&&be(t,n[1])},d(n){n&&E(e)}}}function nd(r){let e,t,n,s,i,o,l,a,u,c,f,d;function p(_,T){return _[1]?td:ed}let k=p(r),v=k(r);return{c(){e=y("div"),t=y("div"),v.c(),n=$(),s=y("button"),s.textContent="Copy code",i=$(),o=y("pre"),l=y("code"),a=X(r[0]),h(s,"class","svelte-5b6xwm"),h(t,"class","copycode svelte-5b6xwm"),h(l,"class",u="language-"+(r[1]||"none")+" svelte-5b6xwm"),h(o,"class",c="language-"+(r[1]||"none")+" svelte-5b6xwm"),h(e,"class","code-block-container svelte-5b6xwm"),gt(e,"position","relative")},m(_,T){x(_,e,T),g(e,t),v.m(t,null),g(t,n),g(t,s),g(e,i),g(e,o),g(o,l),g(l,a),r[4](l),f||(d=Y(s,"click",r[3]),f=!0)},p(_,[T]){k===(k=p(_))&&v?v.p(_,T):(v.d(1),v=k(_),v&&(v.c(),v.m(t,n))),T&1&&be(a,_[0]),T&2&&u!==(u="language-"+(_[1]||"none")+" svelte-5b6xwm")&&h(l,"class",u),T&2&&c!==(c="language-"+(_[1]||"none")+" svelte-5b6xwm")&&h(o,"class",c)},i:H,o:H,d(_){_&&E(e),v.d(),r[4](null),f=!1,d()}}}function sd(r,e,t){let{text:n}=e,{lang:s=void 0}=e,i;rn(()=>{i&&Xf.highlightElement(i)});const o=async()=>{try{await navigator.clipboard.writeText(n)}catch(a){console.error("Error copying text: ",a)}};function l(a){lt[a?"unshift":"push"](()=>{i=a,t(2,i)})}return r.$$set=a=>{"text"in a&&t(0,n=a.text),"lang"in a&&t(1,s=a.lang)},[n,s,i,o,l]}class rd extends me{constructor(e){super(),ge(this,e,sd,nd,pe,{text:0,lang:1})}}function id(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("em"),s&&s.c(),h(e,"class","svelte-djznuz")},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function od(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class ld extends me{constructor(e){super(),ge(this,e,od,id,pe,{})}}function ad(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("ul"),s&&s.c(),h(e,"class","svelte-1dicnom")},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function ud(r){let e,t;const n=r[3].default,s=xe(n,r,r[2],null);return{c(){e=y("ol"),s&&s.c(),h(e,"start",r[1]),h(e,"class","svelte-1dicnom")},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,o){s&&s.p&&(!t||o&4)&&Re(s,n,i,i[2],t?Pe(n,i[2],o,null):Fe(i[2]),null),(!t||o&2)&&h(e,"start",i[1])},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function cd(r){let e,t,n,s;const i=[ud,ad],o=[];function l(a,u){return a[0]?0:1}return e=l(r),t=o[e]=i[e](r),{c(){t.c(),n=Ae()},m(a,u){o[e].m(a,u),x(a,n,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?o[e].p(a,u):(we(),F(o[c],1,1,()=>{o[c]=null}),ve(),t=o[e],t?t.p(a,u):(t=o[e]=i[e](a),t.c()),R(t,1),t.m(n.parentNode,n))},i(a){s||(R(t),s=!0)},o(a){F(t),s=!1},d(a){o[e].d(a),a&&E(n)}}}function fd(r,e,t){let{$$slots:n={},$$scope:s}=e,{ordered:i}=e,{start:o}=e;return r.$$set=l=>{"ordered"in l&&t(0,i=l.ordered),"start"in l&&t(1,o=l.start),"$$scope"in l&&t(2,s=l.$$scope)},[i,o,s,n]}class dd extends me{constructor(e){super(),ge(this,e,fd,cd,pe,{ordered:0,start:1})}}function pd(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("li"),s&&s.c(),h(e,"class","svelte-fm7yqp")},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function hd(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class gd extends me{constructor(e){super(),ge(this,e,hd,pd,pe,{})}}function md(r){let e,t;const n=r[1].default,s=xe(n,r,r[0],null);return{c(){e=y("p"),s&&s.c(),h(e,"class","svelte-jw73bw")},m(i,o){x(i,e,o),s&&s.m(e,null),t=!0},p(i,[o]){s&&s.p&&(!t||o&1)&&Re(s,n,i,i[0],t?Pe(n,i[0],o,null):Fe(i[0]),null)},i(i){t||(R(s,i),t=!0)},o(i){F(s,i),t=!1},d(i){i&&E(e),s&&s.d(i)}}}function _d(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class bd extends me{constructor(e){super(),ge(this,e,_d,md,pe,{})}}function yd(r){let e;return{c(){e=X(r[0])},m(t,n){x(t,e,n)},p(t,[n]){n&1&&be(e,t[0])},i:H,o:H,d(t){t&&E(e)}}}function wd(r,e,t){let{text:n}=e;return r.$$set=s=>{"text"in s&&t(0,n=s.text)},[n]}class vd extends me{constructor(e){super(),ge(this,e,wd,yd,pe,{text:0})}}const kd=""+new URL("delete-f3f148b5.svg",import.meta.url).href,Sd=""+new URL("CopyIcon-a74e8127.svg",import.meta.url).href,Ti=""+new URL("UserIcon-57b535eb.svg",import.meta.url).href,Oi=""+new URL("RobotIcon-76293781.svg",import.meta.url).href,Ad=""+new URL("send-8e88dbd9.svg",import.meta.url).href,Td=""+new URL("wait-8f30b8f8.svg",import.meta.url).href,Od=""+new URL("upload-icon-8c25e619.svg",import.meta.url).href,Ed=""+new URL("pdf-icon-d4c18e5d.svg",import.meta.url).href,xd="modulepreload",Pd=function(r,e){return new URL(r,e).href},Ei={},Rd=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Pd(i,n),i in Ei)return;Ei[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let c=s.length-1;c>=0;c--){const f=s[c];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":xd,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};async function Fd(){const r=await Rd(()=>import("./pdf-41fe8bf0.js"),[],import.meta.url);return r.GlobalWorkerOptions.workerSrc="/workers/pdf.worker.min.mjs",r}function Id(r){const t=/^D:(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/.exec(r);if(t){const n=parseInt(t[1],10),s=parseInt(t[2],10)-1,i=parseInt(t[3],10),o=parseInt(t[4],10),l=parseInt(t[5],10),a=parseInt(t[6],10);return new Date(n,s,i,o,l,a).toISOString().split("T")[0]}return"Unknown Date"}async function $d(r){try{const e=new FileReader,t=await Fd();return new Promise((n,s)=>{e.onload=async i=>{const o=new Uint8Array(i.target.result),a=await t.getDocument({data:o}).promise,u=a.numPages;let c="";for(let m=1;m<=u;m++){const b=await(await a.getPage(m)).getTextContent();c+=b.items.map(S=>"str"in S?S.str:"").join(" ")}const f=c.split(/\s+/).length,p=(await a.getMetadata()).info,k=r.name,v=p.Title||"Untitled",_=p.Author||"Unknown Author",T=p.CreationDate?Id(p.CreationDate):"Unknown Date";n(`The user uploaded a PDF titled "${v}" with a file name of "${k}". It has ${u} pages and ${f} words. File metadata includes Author: "${_}" and creation date: ${T}. The extracted text is as follows: ${c}`)},e.onerror=s,e.readAsArrayBuffer(r)})}catch(e){return console.error("Error processing PDF:",e),Promise.reject("Failed to load the PDF file.")}}async function Es(r="Say 'double bubble bath' five times fast."){const e=B(Me),t=B(Ce);if(console.log("=== Responses API (non-streaming) Test ==="),console.log("API Key configured:",!!e),console.log("Selected model:",t),!e)return console.error("No API key configured"),null;try{const n=await du(r,t),s=n?.output_text??n?.output?.[0]?.content?.map(i=>i?.text).join("")??n?.response?.output_text??JSON.stringify(n);return console.log("Responses API result:",n),console.log("Responses API output_text:",s),{success:!0,raw:n,outputText:s,model:t}}catch(n){return console.error("Responses API error:",n),{success:!1,error:n}}}async function xs(r="Stream this: 'double bubble bath' five times fast."){const e=B(Me),t=B(Ce);if(console.log("=== Responses API (streaming) Test ==="),console.log("API Key configured:",!!e),console.log("Selected model:",t),!e)return console.error("No API key configured"),null;const n=[];let s="";try{return s=await Dn(r,t,{onEvent:i=>{(i.type==="response.created"||i.type==="response.completed"||i.type==="error")&&console.log("SSE event:",i.type,i.data?.id||""),n.push(i)},onTextDelta:i=>{},onCompleted:i=>{console.log("Streaming completed. Final text length:",i.length)},onError:i=>{console.error("Streaming error:",i)}}),{success:!0,finalText:s,eventsCount:n.length,events:n,model:t}}catch(i){return console.error("Responses Streaming error:",i),{success:!1,error:i,eventsCount:n.length,events:n,model:t}}}function Cd(){return{apiKeyConfigured:!!B(Me),selectedModel:B(Ce),availableModels:[],lastRequestPayload:null,lastResponse:null,lastError:null,timestamp:new Date().toISOString()}}function jd(){const r=Cd();console.log("=== Debug Info ==="),console.log(JSON.stringify(r,null,2))}const mn=["response.reasoning_summary.delta","response.reasoning_summary.done","response.reasoning.delta","response.reasoning.done"];async function xi(r){const e=B(Me),t=B(Ce);if(console.log("=== Reasoning Streaming Test (multi-variant) ==="),console.log("API Key configured:",!!e),console.log("Selected model:",t),!e)return console.error("No API key configured"),null;const n="o3-mini";(t||"").toLowerCase()!==n&&console.warn(`Reasoning test will use "${n}" regardless of selected model ("${t}").`);const i=Mn([{role:"system",content:"You are a helpful assistant. Think step by step internally and provide a concise final answer."},{role:"user",content:r||"Please solve: 24 * 17. Provide the final numeric answer; you may think step-by-step internally."}]),o=[{name:"effort_high_summary_detailed",extras:{reasoning:{effort:"high",summary:"detailed"},text:{verbosity:"medium"}}},{name:"effort_medium_summary_detailed",extras:{reasoning:{effort:"medium",summary:"detailed"},text:{verbosity:"medium"}}},{name:"effort_high_summary_detailed_text_high",extras:{reasoning:{effort:"high",summary:"detailed"},text:{verbosity:"high"}}},{name:"effort_high_summary_auto",extras:{reasoning:{effort:"high",summary:"auto"},text:{verbosity:"medium"}}},{name:"effort_high_summary_detailed_metadata_include_reasoning",extras:{reasoning:{effort:"high",summary:"detailed"},metadata:{include_reasoning:!0},text:{verbosity:"medium"}}}];async function l(f,d){const p=[],k=[],v=new Set;let _="",T="",m="",w=!1;try{let b=function(M){const L=M.split(`
`).map(C=>C.trim()).filter(Boolean);let N="message";const Z=[];for(const C of L)C.startsWith("event:")?N=C.slice(6).trim():C.startsWith("data:")&&Z.push(C.slice(5).trim());if(Z.length===0)return;const D=Z.join(`
`);if(D==="[DONE]"){w=!0;return}let q=null;try{q=JSON.parse(D)}catch(C){console.warn("Failed to parse SSE data JSON chunk:",C,D);return}const ke=N!=="message"?N:q?.type||"message";k.push(ke),v.add(ke);let se;switch(ke){case"response.reasoning_summary_part.added":se={partType:q?.part?.type??""};break;case"response.reasoning_summary_part.done":se={partType:q?.part?.type??"",text:q?.part?.text??""},typeof q?.part?.text=="string"&&(T+=q.part.text);break;case"response.reasoning_summary_text.delta":case"response.reasoning_summary.delta":se={delta:q?.delta??""},typeof q?.delta=="string"&&(T+=q.delta);break;case"response.reasoning_summary_text.done":case"response.reasoning_summary.done":se={text:q?.text??""},typeof q?.text=="string"&&(T+=q.text);break;case"response.reasoning_text.delta":case"response.reasoning.delta":se={delta:q?.delta??""},typeof q?.delta=="string"&&(m+=q.delta);break;case"response.reasoning_text.done":case"response.reasoning.done":se={text:q?.text??""},typeof q?.text=="string"&&(m+=q.text);break;case"response.output_text.delta":{const C=q?.delta?.text??q?.delta??q?.output_text_delta??q?.text??"";se={delta:typeof C=="string"?C:""},typeof C=="string"&&C&&(_+=C);break}case"response.completed":se=q,w=!0;break;default:se=q;break}p.push({type:ke,data:se})};const S=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(f)});if(!S.ok||!S.body){const M=await S.text().catch(()=>"");throw new Error(`Responses API stream error ${S.status}: ${M||S.statusText}`)}const A=S.body.getReader(),P=new TextDecoder;let I="";for(;;){const{value:M,done:L}=await A.read();if(L)break;I+=P.decode(M,{stream:!0});const N=I.split(`

`);I=N.pop()||"";for(const Z of N)Z.trim()&&b(Z)}I.trim()&&b(I);const O=mn.filter(M=>!v.has(M));return{success:w,model:n,variant:d,events:p,order:k,seenTypes:Array.from(v),missingTypes:O,outputText:_,reasoningSummaryText:T,reasoningText:m}}catch(b){const S=Array.from(new Set(p.map(P=>P.type))),A=mn.filter(P=>!S.includes(P));return{success:!1,model:n,variant:d,events:p,order:k,seenTypes:S,missingTypes:A,outputText:_,reasoningSummaryText:T,reasoningText:m,error:b}}}const a=[];let u=-1;for(let f=0;f<o.length;f++){const d=o[f],p={model:n,input:i,store:!1,stream:!0,text:{verbosity:"medium"},...d.extras};console.log(`Trying variant ${f+1}/${o.length}: ${d.name}`,p);const k=await l(p,d.name);if(a.push(k),mn.some(_=>k.seenTypes.includes(_))&&u===-1){u=f;break}}const c=u>=0?a[u]:a[0]||null;return c?{success:c.success,model:n,events:c.events,order:c.order,seenTypes:c.seenTypes,missingTypes:c.missingTypes,outputText:c.outputText,reasoningSummaryText:c.reasoningSummaryText,reasoningText:c.reasoningText,bestVariant:c.variant,variants:a.map(f=>({name:f.variant,success:f.success,seenTypes:f.seenTypes,missingTypes:f.missingTypes,eventsCount:f.events.length}))}:{success:!1,model:n,error:"No variants executed",events:[],order:[],seenTypes:[],missingTypes:mn,outputText:"",reasoningSummaryText:"",reasoningText:"",bestVariant:null,variants:[]}}class Md{assertions=0;failures=0;notes=[];that(e,t){this.assertions++,e?this.notes.push(`OK: ${t}`):(this.failures++,this.notes.push(`FAIL: ${t}`))}}let sn=[];function Pi(r){sn.some(e=>e.id===r.id)||sn.push(r)}function Dd(){return[...sn]}async function Ud(r){const e=performance.now(),t=new Md,n=async()=>{await r.fn(t)},s=r.timeoutMs??3e4;let i;try{await Promise.race([n(),new Promise((l,a)=>setTimeout(()=>a(new Error(`Timeout after ${s}ms`)),s))])}catch(l){i=l,t.notes.push(`ERROR: ${l?.message??String(l)}`),t.failures++}const o=performance.now()-e;return{id:r.id,name:r.name,success:t.failures===0&&!i,durationMs:o,assertions:t.assertions,failures:t.failures,details:t.notes.join(`
`),error:i}}async function Vo(r){const e=(r?.filter?sn.filter(r.filter):sn).slice(),t=performance.now(),n=[];for(const l of e){const a=await Ud(l);n.push(a)}const s=performance.now()-t,i=n.filter(l=>l.success).length,o=n.length-i;return{total:n.length,passed:i,failed:o,durationMs:s,results:n}}function Ld(r){const e=[];e.push("=== Test Harness Results ==="),e.push(`Total: ${r.total} | Passed: ${r.passed} | Failed: ${r.failed} | Duration: ${r.durationMs.toFixed(0)}ms`),e.push("");for(const t of r.results)e.push(`- [${t.success?"PASS":"FAIL"}] ${t.name} (${t.durationMs.toFixed(0)}ms)`),t.details&&e.push(t.details),t.error&&e.push(`Error: ${t.error?.message??String(t.error)}`),e.push("");return e.join(`
`)}typeof window<"u"&&(window.SmoothGPTTestHarness={listTests:Dd,runAll:()=>Vo()});let Ri=!1;function Bd(){Ri||(Ri=!0,Pi({id:"responses-api-nonstream",name:"Responses API - Non-Streaming returns text",tags:["smoke","responses"],timeoutMs:3e4,fn:async r=>{const e=await Es();r.that(e!=null,"Result should be returned"),r.that(e?.success===!0,"Result.success should be true"),r.that(typeof e?.model=="string"&&e?.model.length>0,"Model id should be a non-empty string"),r.that(typeof e?.outputText=="string","Output text should be a string"),r.that((e?.outputText??"").trim().length>0,"Output text should be non-empty"),r.that((e?.outputText??"").length>=5,"Output text length should be at least 5 chars")}}),Pi({id:"responses-api-streaming",name:"Responses API - Streaming yields events and final text",tags:["smoke","responses","stream"],timeoutMs:45e3,fn:async r=>{const e=await xs();r.that(e!=null,"Result should be returned"),r.that(e?.success===!0,"Result.success should be true"),r.that(typeof e?.model=="string"&&e?.model.length>0,"Model id should be a non-empty string"),r.that(typeof e?.eventsCount=="number"&&e?.eventsCount>0,"Should receive at least one streaming event"),r.that(typeof e?.finalText=="string","Final text should be a string"),r.that((e?.finalText??"").trim().length>0,"Final text should be non-empty"),r.that((e?.eventsCount??0)>=3,"Should receive at least 3 streaming events")}}))}async function Nd(){return Bd(),Vo({filter:r=>(r.tags??[]).includes("smoke")})}function Fi(r){let e,t,n;return{c(){e=y("p"),t=X("Current Test: "),n=X(r[2]),h(e,"class","mb-1")},m(s,i){x(s,e,i),g(e,t),g(e,n)},p(s,i){i&4&&be(n,s[2])},d(s){s&&E(e)}}}function Ii(r){let e,t,n;return{c(){e=y("div"),t=y("pre"),n=X(r[0]),h(e,"class","mt-4 p-2 bg-gray-700 rounded text-xs max-h-40 overflow-y-auto")},m(s,i){x(s,e,i),g(e,t),g(t,n)},p(s,i){i&1&&be(n,s[0])},d(s){s&&E(e)}}}function Vd(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k,v,_=r[4]?" Configured":" Missing",T,m,w,b,S,A=r[1]&&r[2]==="Responses API"?"Testing...":"Test Responses API (non-stream)",P,I,O,M=r[1]&&r[2]==="Responses Streaming"?"Testing...":"Test Responses API (stream)",L,N,Z,D=r[1]&&r[2]==="Reasoning Streaming"?"Testing...":"Test Reasoning Stream",q,ke,se,C=r[1]&&r[2]==="All Tests"?"Running...":"Run All Tests",z,G,W,Q=r[1]&&r[2]==="Test Harness (smoke)"?"Running...":"Run Test Harness (smoke)",re,he,ie,Oe,Ue,Ee,Le,He,ce=r[2]&&Fi(r),fe=r[0]&&Ii(r);return{c(){e=y("div"),t=y("div"),n=y("h3"),n.textContent="Debug Panel",s=$(),i=y("button"),o=y("img"),a=$(),u=y("div"),c=y("p"),f=X("Current Model: "),d=X(r[3]),p=$(),k=y("p"),v=X("API Key: "),T=X(_),m=$(),ce&&ce.c(),w=$(),b=y("div"),S=y("button"),P=X(A),I=$(),O=y("button"),L=X(M),N=$(),Z=y("button"),q=X(D),ke=$(),se=y("button"),z=X(C),G=$(),W=y("button"),re=X(Q),he=$(),ie=y("button"),ie.textContent="Show Debug Info",Oe=$(),Ue=y("button"),Ue.textContent="Clear Results",Ee=$(),fe&&fe.c(),h(n,"class","text-lg font-bold"),De(o.src,l=tn)||h(o,"src",l),h(o,"alt","Close"),h(o,"class","w-5 h-5"),h(t,"class","flex justify-between items-center mb-2"),h(c,"class","mb-1"),h(k,"class","mb-1"),h(u,"class","mb-4 text-sm"),h(S,"class","w-full bg-cyan-600 hover:bg-cyan-700 px-3 py-1 rounded text-sm disabled:opacity-50"),S.disabled=r[1],h(O,"class","w-full bg-cyan-700 hover:bg-cyan-800 px-3 py-1 rounded text-sm disabled:opacity-50"),O.disabled=r[1],h(Z,"class","w-full bg-fuchsia-600 hover:bg-fuchsia-700 px-3 py-1 rounded text-sm disabled:opacity-50"),Z.disabled=r[1],h(se,"class","w-full bg-indigo-600 hover:bg-indigo-700 px-3 py-1 rounded text-sm disabled:opacity-50"),se.disabled=r[1],h(W,"class","w-full bg-emerald-600 hover:bg-emerald-700 px-3 py-1 rounded text-sm disabled:opacity-50"),W.disabled=r[1],h(ie,"class","w-full bg-yellow-600 hover:bg-yellow-700 px-3 py-1 rounded text-sm"),h(Ue,"class","w-full bg-gray-600 hover:bg-gray-700 px-3 py-1 rounded text-sm"),h(b,"class","space-y-2 mb-4"),h(e,"class","fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg max-w-lg z-50 max-h-96 overflow-y-auto")},m(j,K){x(j,e,K),g(e,t),g(t,n),g(t,s),g(t,i),g(i,o),g(e,a),g(e,u),g(u,c),g(c,f),g(c,d),g(u,p),g(u,k),g(k,v),g(k,T),g(u,m),ce&&ce.m(u,null),g(e,w),g(e,b),g(b,S),g(S,P),g(b,I),g(b,O),g(O,L),g(b,N),g(b,Z),g(Z,q),g(b,ke),g(b,se),g(se,z),g(b,G),g(b,W),g(W,re),g(b,he),g(b,ie),g(b,Oe),g(b,Ue),g(e,Ee),fe&&fe.m(e,null),Le||(He=[Y(i,"click",r[12]),Y(S,"click",r[5]),Y(O,"click",r[6]),Y(Z,"click",r[7]),Y(se,"click",r[8]),Y(W,"click",r[9]),Y(ie,"click",r[10]),Y(Ue,"click",r[11])],Le=!0)},p(j,[K]){K&8&&be(d,j[3]),K&16&&_!==(_=j[4]?" Configured":" Missing")&&be(T,_),j[2]?ce?ce.p(j,K):(ce=Fi(j),ce.c(),ce.m(u,null)):ce&&(ce.d(1),ce=null),K&6&&A!==(A=j[1]&&j[2]==="Responses API"?"Testing...":"Test Responses API (non-stream)")&&be(P,A),K&2&&(S.disabled=j[1]),K&6&&M!==(M=j[1]&&j[2]==="Responses Streaming"?"Testing...":"Test Responses API (stream)")&&be(L,M),K&2&&(O.disabled=j[1]),K&6&&D!==(D=j[1]&&j[2]==="Reasoning Streaming"?"Testing...":"Test Reasoning Stream")&&be(q,D),K&2&&(Z.disabled=j[1]),K&6&&C!==(C=j[1]&&j[2]==="All Tests"?"Running...":"Run All Tests")&&be(z,C),K&2&&(se.disabled=j[1]),K&6&&Q!==(Q=j[1]&&j[2]==="Test Harness (smoke)"?"Running...":"Run Test Harness (smoke)")&&be(re,Q),K&2&&(W.disabled=j[1]),j[0]?fe?fe.p(j,K):(fe=Ii(j),fe.c(),fe.m(e,null)):fe&&(fe.d(1),fe=null)},i:H,o:H,d(j){j&&E(e),ce&&ce.d(),fe&&fe.d(),Le=!1,Ve(He)}}}function zd(r,e,t){let n,s;de(r,Ce,_=>t(3,n=_)),de(r,Me,_=>t(4,s=_)),on();let i="",o=!1,l="";async function a(){t(1,o=!0),t(2,l="Responses API"),t(0,i=`Running Responses API (non-streaming) test...
`);try{const _=await Es();_&&_.success?(t(0,i+=` Responses API test successful!
`),t(0,i+=`Model: ${_.model}
`),t(0,i+=`Output: ${_.outputText}
`)):(t(0,i+=` Responses API test failed!
`),_?.error&&t(0,i+=`Error: ${_.error}
`))}catch(_){t(0,i+=` Responses API test error: ${_}
`)}t(1,o=!1)}async function u(){t(1,o=!0),t(2,l="Responses Streaming"),t(0,i=`Running Responses API (streaming) test...
`);try{const _=await xs();_&&_.success?(t(0,i+=` Responses streaming test successful!
`),t(0,i+=`Model: ${_.model}
`),t(0,i+=`Events received: ${_.eventsCount}
`),t(0,i+=`Final text: ${_.finalText}
`)):(t(0,i+=` Responses streaming test failed!
`),_?.error&&t(0,i+=`Error: ${_.error}
`))}catch(_){t(0,i+=` Responses streaming test error: ${_}
`)}t(1,o=!1)}async function c(){t(1,o=!0),t(2,l="Reasoning Streaming"),t(0,i=`Running reasoning streaming test...
`);try{const _=await xi();_&&_.success?(t(0,i+=` Reasoning streaming test successful!
`),t(0,i+=`Model: ${_.model}
`),t(0,i+=`Seen types (${_.seenTypes.length}): ${_.seenTypes.join(", ")}
`),t(0,i+=`Missing types (${_.missingTypes.length}): ${_.missingTypes.join(", ")||"none"}
`),t(0,i+=`Event order:
${_.order.map((T,m)=>`${m+1}. ${T}`).join(`
`)}
`),_.reasoningSummaryText&&t(0,i+=`
Reasoning summary (first 300 chars):
${_.reasoningSummaryText.slice(0,300)}
`),_.reasoningText&&t(0,i+=`
Reasoning text (first 300 chars):
${_.reasoningText.slice(0,300)}
`)):(t(0,i+=` Reasoning streaming test failed!
`),_?.error&&t(0,i+=`Error: ${_.error}
`),_?.seenTypes&&t(0,i+=`Seen types: ${_.seenTypes.join(", ")}
`),_?.missingTypes&&t(0,i+=`Missing types: ${_.missingTypes.join(", ")}
`))}catch(_){t(0,i+=` Reasoning streaming test error: ${_}
`)}t(1,o=!1)}async function f(){t(1,o=!0),t(2,l="All Tests"),t(0,i=`Running comprehensive test suite...

`);try{t(0,i+=`=== Test: Responses API (non-stream) ===
`);const _=await Es();_&&_.success?(t(0,i+=` Responses API: PASSED
`),t(0,i+=`Model: ${_.model}
`),t(0,i+=`Output: ${_.outputText}
`)):(t(0,i+=` Responses API: FAILED
`),_?.error&&t(0,i+=`Error: ${_.error}
`)),t(0,i+=`
=== Test: Responses API (stream) ===
`);const T=await xs();T&&T.success?(t(0,i+=` Responses streaming: PASSED
`),t(0,i+=`Model: ${T.model}
`),t(0,i+=`Events received: ${T.eventsCount}
`),t(0,i+=`Final text: ${T.finalText}
`)):(t(0,i+=` Responses streaming: FAILED
`),T?.error&&t(0,i+=`Error: ${T.error}
`)),t(0,i+=`
=== Test: Reasoning Streaming ===
`);const m=await xi();m&&m.success?(t(0,i+=` Reasoning streaming: PASSED
`),t(0,i+=`Model: ${m.model}
`),m.reasoningSummaryText&&t(0,i+=`Reasoning summary (first 300 chars):
${m.reasoningSummaryText.slice(0,300)}
`),m.reasoningText&&t(0,i+=`Reasoning text (first 300 chars):
${m.reasoningText.slice(0,300)}
`)):(t(0,i+=` Reasoning streaming: FAILED
`),m?.error&&t(0,i+=`Error: ${m.error}
`)),t(0,i+=`
=== Test Summary ===
`);const w=[_,T,m],b=w.filter(S=>S&&S.success).length;t(0,i+=`Tests passed: ${b}/${w.length}
`)}catch(_){t(0,i+=` Test suite error: ${_}
`)}t(1,o=!1)}async function d(){t(1,o=!0),t(2,l="Test Harness (smoke)"),t(0,i=`Running test harness (smoke tests)...
`);try{const _=await Nd();t(0,i=Ld(_))}catch(_){t(0,i=` Test harness error: ${_}
`)}t(1,o=!1)}function p(){jd(),t(0,i=`Debug info logged to console. Check browser console for details.
`)}function k(){t(0,i=""),t(2,l="")}function v(){Wt.set(!1)}return[i,o,l,n,s,a,u,c,f,d,p,k,v]}class qd extends me{constructor(e){super(),ge(this,e,zd,Vd,pe,{})}}const{Map:zo}=il;function $i(r,e,t){const n=r.slice();return n[6]=e[t],n}function Ci(r,e,t){const n=r.slice();return n[9]=e[t],n}function ji(r){let e=[],t=new zo,n,s=r[0];const i=o=>o[6].id;for(let o=0;o<s.length;o+=1){let l=$i(r,s,o),a=i(l);t.set(a,e[o]=Li(a,l))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ae()},m(o,l){for(let a=0;a<e.length;a+=1)e[a].m(o,l);x(o,n,l)},p(o,l){l&3&&(s=o[0],e=ao(e,l,i,1,o,s,t,n.parentNode,lo,Li,n,$i))},d(o){for(let l=0;l<e.length;l+=1)e[l].d(o);o&&E(n)}}}function Mi(r){let e,t,n=r[6].model+"",s,i;return{c(){e=y("span"),t=X("("),s=X(n),i=X(")"),h(e,"class","ml-2 text-xs text-white/60")},m(o,l){x(o,e,l),g(e,t),g(e,s),g(e,i)},p(o,l){l&1&&n!==(n=o[6].model+"")&&be(s,n)},d(o){o&&E(e)}}}function Di(r){let e;return{c(){e=y("div"),e.textContent="Waiting for reasoning events...",h(e,"class","px-3 py-2 text-xs text-white/60 italic")},m(t,n){x(t,e,n)},d(t){t&&E(e)}}}function Hd(r){let e;return{c(){e=y("span"),e.textContent="in progress",h(e,"class","text-amber-600")},m(t,n){x(t,e,n)},d(t){t&&E(e)}}}function Gd(r){let e;return{c(){e=y("span"),e.textContent="done",h(e,"class","text-green-600")},m(t,n){x(t,e,n)},d(t){t&&E(e)}}}function Ui(r,e){let t,n,s,i=e[9].kind==="summary"?"Reasoning summary":"Reasoning",o,l,a,u,c,f,d=e[9].text+"",p,k;function v(m,w){return m[9].done?Gd:Hd}let _=v(e),T=_(e);return{key:r,first:null,c(){t=y("div"),n=y("div"),s=y("div"),o=X(i),l=$(),a=y("div"),T.c(),u=$(),c=y("div"),f=y("pre"),p=X(d),k=$(),h(s,"class","text-sm font-semibold text-white/80"),h(a,"class","text-xs"),h(n,"class","flex items-center justify-between px-3 py-2 bg-secondary"),h(f,"class","whitespace-pre-wrap break-words text-sm text-white/80"),h(c,"class","px-3 py-2"),h(t,"class","rounded border border-gray-500"),this.first=t},m(m,w){x(m,t,w),g(t,n),g(n,s),g(s,o),g(n,l),g(n,a),T.m(a,null),g(t,u),g(t,c),g(c,f),g(f,p),g(t,k)},p(m,w){e=m,w&3&&i!==(i=e[9].kind==="summary"?"Reasoning summary":"Reasoning")&&be(o,i),_!==(_=v(e))&&(T.d(1),T=_(e),T&&(T.c(),T.m(a,null))),w&3&&d!==(d=e[9].text+"")&&be(p,d)},d(m){m&&E(t),T.d()}}}function Li(r,e){let t,n,s,i,o,l=(e[1].get(e[6].id)??[]).length+"",a,u,c=(e[1].get(e[6].id)??[]).length===1?"":"s",f,d,p=(e[1].get(e[6].id)??[]).length===0,k,v,_=[],T=new zo,m,w,b=e[6].model&&Mi(e),S=p&&Di(),A=e[1].get(e[6].id)??[];const P=I=>I[9].id;for(let I=0;I<A.length;I+=1){let O=Ci(e,A,I),M=P(O);T.set(M,_[I]=Ui(M,O))}return{key:r,first:null,c(){t=y("details"),n=y("summary"),s=X(`Reasoning
        `),b&&b.c(),i=$(),o=y("span"),a=X(l),u=X(" message"),f=X(c),d=$(),S&&S.c(),k=$(),v=y("div");for(let I=0;I<_.length;I+=1)_[I].c();m=$(),h(o,"class","ml-2 text-xs text-white/60"),h(n,"class","cursor-pointer select-none px-3 py-2 bg-secondary hover:bg-hover2 text-white/80 font-medium rounded-t"),h(v,"class","p-3 space-y-3"),h(t,"class","my-3 rounded border border-gray-500 bg-primary shadow-sm open:shadow-md"),t.open=w=e[6].open,this.first=t},m(I,O){x(I,t,O),g(t,n),g(n,s),b&&b.m(n,null),g(n,i),g(n,o),g(o,a),g(o,u),g(o,f),g(t,d),S&&S.m(t,null),g(t,k),g(t,v);for(let M=0;M<_.length;M+=1)_[M].m(v,null);g(t,m)},p(I,O){e=I,e[6].model?b?b.p(e,O):(b=Mi(e),b.c(),b.m(n,i)):b&&(b.d(1),b=null),O&3&&l!==(l=(e[1].get(e[6].id)??[]).length+"")&&be(a,l),O&3&&c!==(c=(e[1].get(e[6].id)??[]).length===1?"":"s")&&be(f,c),O&3&&(p=(e[1].get(e[6].id)??[]).length===0),p?S||(S=Di(),S.c(),S.m(t,k)):S&&(S.d(1),S=null),O&3&&(A=e[1].get(e[6].id)??[],_=ao(_,O,P,1,e,A,T,v,lo,Ui,null,Ci)),O&1&&w!==(w=e[6].open)&&(t.open=w)},d(I){I&&E(t),b&&b.d(),S&&S.d();for(let O=0;O<_.length;O+=1)_[O].d()}}}function Jd(r){let e,t=r[0].length>0&&ji(r);return{c(){t&&t.c(),e=Ae()},m(n,s){t&&t.m(n,s),x(n,e,s)},p(n,[s]){n[0].length>0?t?t.p(n,s):(t=ji(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&E(e)}}}function Yd(r,e,t){let n,s,{convId:i}=e,{anchorIndex:o}=e;const l=or(Ns,u=>u.filter(c=>(c.convId===i||c.convId===void 0)&&c.anchorIndex===o));de(r,l,u=>t(0,n=u));const a=or(jn,u=>{const c=new Map;for(const f of u){const d=f.responseId??"",p=c.get(d)||[];p.push(f),c.set(String(d),p)}return c});return de(r,a,u=>t(1,s=u)),r.$$set=u=>{"convId"in u&&t(4,i=u.convId),"anchorIndex"in u&&t(5,o=u.anchorIndex)},[n,s,l,a,i,o]}class Zd extends me{constructor(e){super(),ge(this,e,Yd,Jd,pe,{convId:4,anchorIndex:5})}}function Bi(r,e,t){const n=r.slice();return n[58]=e[t],n[60]=t,n}function Ni(r,e,t){const n=r.slice();return n[61]=e[t],n}function Vi(r,e,t){const n=r.slice();return n[64]=e[t],n}function Wd(r){let e;return{c(){e=X("SmoothGPT")},m(t,n){x(t,e,n)},p:H,d(t){t&&E(e)}}}function Qd(r){let e=(r[3][r[2]].title||"SmoothGPT")+"",t;return{c(){t=X(e)},m(n,s){x(n,t,s)},p(n,s){s[0]&12&&e!==(e=(n[3][n[2]].title||"SmoothGPT")+"")&&be(t,e)},d(n){n&&E(t)}}}function zi(r){let e,t;return e=new Uu({}),e.$on("settings-changed",iu),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p:H,i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function qi(r){let e,t;return e=new Nu({}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function Kd(r){let e;return{c(){e=y("option"),e.textContent="No models loaded",e.disabled=!0,e.selected=!0,e.__value="No models loaded",e.value=e.__value},m(t,n){x(t,e,n)},p:H,d(t){t&&E(e)}}}function Xd(r){let e,t=r[19]&&r[19].length>0&&Hi(r),n=r[18],s=[];for(let i=0;i<n.length;i+=1)s[i]=Yi(Ni(r,n,i));return{c(){t&&t.c(),e=y("optgroup");for(let i=0;i<s.length;i+=1)s[i].c();h(e,"label","All models")},m(i,o){t&&t.m(i,o),x(i,e,o);for(let l=0;l<s.length;l+=1)s[l].m(e,null)},p(i,o){if(i[19]&&i[19].length>0?t?t.p(i,o):(t=Hi(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),o[0]&786432){n=i[18];let l;for(l=0;l<n.length;l+=1){const a=Ni(i,n,l);s[l]?s[l].p(a,o):(s[l]=Yi(a),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(i){t&&t.d(i),i&&E(e),nt(s,i)}}}function Hi(r){let e,t=r[19],n=[];for(let s=0;s<t.length;s+=1)n[s]=Gi(Vi(r,t,s));return{c(){e=y("optgroup");for(let s=0;s<n.length;s+=1)n[s].c();h(e,"label","Recently used")},m(s,i){x(s,e,i);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(s,i){if(i[0]&524288){t=s[19];let o;for(o=0;o<t.length;o+=1){const l=Vi(s,t,o);n[o]?n[o].p(l,i):(n[o]=Gi(l),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&E(e),nt(n,s)}}}function Gi(r){let e,t=r[64].id+"",n,s;return{c(){e=y("option"),n=X(t),e.__value=s=r[64].id,e.value=e.__value},m(i,o){x(i,e,o),g(e,n)},p(i,o){o[0]&524288&&t!==(t=i[64].id+"")&&be(n,t),o[0]&524288&&s!==(s=i[64].id)&&(e.__value=s,e.value=e.__value)},d(i){i&&E(e)}}}function Ji(r){let e,t=r[61].id+"",n,s;return{c(){e=y("option"),n=X(t),e.__value=s=r[61].id,e.value=e.__value},m(i,o){x(i,e,o),g(e,n)},p(i,o){o[0]&262144&&t!==(t=i[61].id+"")&&be(n,t),o[0]&262144&&s!==(s=i[61].id)&&(e.__value=s,e.value=e.__value)},d(i){i&&E(e)}}}function Yi(r){let e=!r[19]||!r[19].find(n),t;function n(...i){return r[33](r[61],...i)}let s=e&&Ji(r);return{c(){s&&s.c(),t=Ae()},m(i,o){s&&s.m(i,o),x(i,t,o)},p(i,o){r=i,o[0]&786432&&(e=!r[19]||!r[19].find(n)),e?s?s.p(r,o):(s=Ji(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(i){s&&s.d(i),i&&E(t)}}}function ep(r){let e;return{c(){e=y("div"),e.innerHTML="<p>No conversation selected. Start a new conversation.</p>",h(e,"class","flex justify-center items-center h-full")},m(t,n){x(t,e,n)},p:H,i:H,o:H,d(t){t&&E(e)}}}function tp(r){let e,t,n,s=r[3][r[2]].history,i=[];for(let l=0;l<s.length;l+=1)i[l]=eo(Bi(r,s,l));const o=l=>F(i[l],1,1,()=>{i[l]=null});return{c(){e=y("div"),t=y("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","flex flex-col max-w-3xl pt-5 grow")},m(l,a){x(l,e,a),g(e,t);for(let u=0;u<i.length;u+=1)i[u].m(t,null);n=!0},p(l,a){if(a[0]&235931212){s=l[3][l[2]].history;let u;for(u=0;u<s.length;u+=1){const c=Bi(l,s,u);i[u]?(i[u].p(c,a),R(i[u],1)):(i[u]=eo(c),i[u].c(),R(i[u],1),i[u].m(t,null))}for(we(),u=s.length;u<i.length;u+=1)o(u);ve()}},i(l){if(!n){for(let a=0;a<s.length;a+=1)R(i[a]);n=!0}},o(l){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)F(i[a]);n=!1},d(l){l&&E(e),nt(i,l)}}}function Zi(r){let e,t,n,s,i,o,l,a,u,c,f,d,p;function k(S,A){return S[58].role==="assistant"?sp:np}let v=k(r),_=v(r);const T=[ip,rp],m=[];function w(S,A){return S[9]===S[60]?0:1}u=w(r),c=m[u]=T[u](r);let b=r[58].role==="user"&&Xi(r);return{c(){e=y("div"),t=y("div"),n=y("div"),s=y("img"),o=$(),l=y("div"),_.c(),a=$(),c.c(),f=$(),b&&b.c(),d=$(),De(s.src,i=r[58].role==="user"?Ti:Oi)||h(s,"src",i),h(s,"alt","Profile"),h(s,"class","w-6 h-6 ml-10"),h(l,"class","relative ml-3 font-bold"),h(t,"class","profile-picture flex"),h(e,"class","message relative inline-block bg-primary px-2 pb-5 flex flex-col")},m(S,A){x(S,e,A),g(e,t),g(t,n),g(n,s),g(t,o),g(t,l),_.m(l,null),g(e,a),m[u].m(e,null),g(e,f),b&&b.m(e,null),g(e,d),p=!0},p(S,A){(!p||A[0]&12&&!De(s.src,i=S[58].role==="user"?Ti:Oi))&&h(s,"src",i),v!==(v=k(S))&&(_.d(1),_=v(S),_&&(_.c(),_.m(l,null)));let P=u;u=w(S),u===P?m[u].p(S,A):(we(),F(m[P],1,1,()=>{m[P]=null}),ve(),c=m[u],c?c.p(S,A):(c=m[u]=T[u](S),c.c()),R(c,1),c.m(e,f)),S[58].role==="user"?b?(b.p(S,A),A[0]&12&&R(b,1)):(b=Xi(S),b.c(),R(b,1),b.m(e,d)):b&&(we(),F(b,1,1,()=>{b=null}),ve())},i(S){p||(R(c),R(b),p=!0)},o(S){F(c),F(b),p=!1},d(S){S&&E(e),_.d(),m[u].d(),b&&b.d()}}}function np(r){let e;return{c(){e=X("You")},m(t,n){x(t,e,n)},d(t){t&&E(e)}}}function sp(r){let e;return{c(){e=X("ChatGPT")},m(t,n){x(t,e,n)},d(t){t&&E(e)}}}function rp(r){let e,t,n,s,i,o,l,a,u,c=!ls(r[58])&&!cs(r[58].content),f,d,p,k,v,_,T,m,w,b,S;const A=[ap,lp,op],P=[];function I(D,q){return q[0]&12&&(t=null),q[0]&12&&(n=null),t==null&&(t=!!cs(D[58].content)),t?0:(n==null&&(n=!!ls(D[58])),n?1:D[58].role==="assistant"||D[58].role==="user"?2:-1)}~(s=I(r,[-1,-1,-1]))&&(i=P[s]=A[s](r));let O=r[58].role==="assistant"&&Wi(),M=r[58].role==="user"&&Qi(),L=c&&Ki(r);function N(){return r[42](r[60])}function Z(){return r[43](r[60])}return{c(){e=y("div"),i&&i.c(),o=$(),l=y("div"),O&&O.c(),a=$(),M&&M.c(),u=$(),L&&L.c(),f=$(),d=y("button"),p=y("img"),v=$(),_=y("button"),T=y("img"),h(e,"class","message-display pl-20 pr-5 md:px-20 text-[1rem]"),h(p,"class","edit-icon"),h(p,"alt","edit"),De(p.src,k=Io)||h(p,"src",k),h(d,"class","editButton w-5"),h(T,"class","delete-icon"),h(T,"alt","Delete"),De(T.src,m=kd)||h(T,"src",m),h(_,"class","deleteButton w-5"),h(l,"class","toolbelt flex space-x-2 pl-20 mb-2 tools")},m(D,q){x(D,e,q),~s&&P[s].m(e,null),x(D,o,q),x(D,l,q),O&&O.m(l,null),g(l,a),M&&M.m(l,null),g(l,u),L&&L.m(l,null),g(l,f),g(l,d),g(d,p),g(l,v),g(l,_),g(_,T),w=!0,b||(S=[Y(d,"click",N),Y(_,"click",Z)],b=!0)},p(D,q){r=D;let ke=s;s=I(r,q),s===ke?~s&&P[s].p(r,q):(i&&(we(),F(P[ke],1,1,()=>{P[ke]=null}),ve()),~s?(i=P[s],i?i.p(r,q):(i=P[s]=A[s](r),i.c()),R(i,1),i.m(e,null)):i=null),r[58].role==="assistant"?O||(O=Wi(),O.c(),O.m(l,a)):O&&(O.d(1),O=null),r[58].role==="user"?M||(M=Qi(),M.c(),M.m(l,u)):M&&(M.d(1),M=null),q[0]&12&&(c=!ls(r[58])&&!cs(r[58].content)),c?L?L.p(r,q):(L=Ki(r),L.c(),L.m(l,f)):L&&(L.d(1),L=null)},i(D){w||(R(i),w=!0)},o(D){F(i),w=!1},d(D){D&&E(e),~s&&P[s].d(),D&&E(o),D&&E(l),O&&O.d(),M&&M.d(),L&&L.d(),b=!1,Ve(S)}}}function ip(r){let e,t,n,s,i,o,l,a,u,c;function f(){return r[39](r[60])}return{c(){e=y("textarea"),t=$(),n=y("div"),s=y("button"),i=X("Submit"),l=$(),a=y("button"),a.textContent="Cancel",h(e,"class","message-edit-textarea mt-2 bg-gray-700 p-3 mx-10 resize-none focus:outline-none rounded-lg"),gt(e,"height","96px"),gt(e,"overflow-y","auto"),h(s,"class",o="submit-edit rounded-lg p-2 mr-2 "+(r[20]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700")),s.disabled=r[20],h(a,"class","cancel-edit bg-gray-700 hover:bg-gray-500 rounded-lg p-2 mr-2"),h(n,"class","flex place-content-center mt-4")},m(d,p){x(d,e,p),r[37](e),tt(e,r[10]),x(d,t,p),x(d,n,p),g(n,s),g(s,i),g(n,l),g(n,a),u||(c=[Y(e,"input",r[38]),Y(e,"input",qo),Y(s,"click",f),Y(a,"click",r[40])],u=!0)},p(d,p){r=d,p[0]&1024&&tt(e,r[10]),p[0]&1048576&&o!==(o="submit-edit rounded-lg p-2 mr-2 "+(r[20]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700"))&&h(s,"class",o),p[0]&1048576&&(s.disabled=r[20])},i:H,o:H,d(d){d&&E(e),r[37](null),d&&E(t),d&&E(n),u=!1,Ve(c)}}}function op(r){let e,t;return e=new Qf({props:{renderers:{code:rd,em:ld,list:dd,listitem:gd,paragraph:bd,html:vd},source:Br(r[58].content.toString())}}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p(n,s){const i={};s[0]&12&&(i.source=Br(n[58].content.toString())),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function lp(r){let e,t,n;return t=new _u({props:{audioUrl:r[58].audioUrl}}),{c(){e=y("div"),ue(t.$$.fragment),h(e,"class","pb-3")},m(s,i){x(s,e,i),oe(t,e,null),n=!0},p(s,i){const o={};i[0]&12&&(o.audioUrl=s[58].audioUrl),t.$set(o)},i(s){n||(R(t.$$.fragment,s),n=!0)},o(s){F(t.$$.fragment,s),n=!1},d(s){s&&E(e),le(t)}}}function ap(r){let e,t,n,s;return{c(){e=y("img"),n=$(),s=y("div"),s.textContent="This image will be available for 60 minutes. Right click + save as!",De(e.src,t=r[58].content)||h(e,"src",t),h(e,"alt","Generated"),h(e,"class","max-w-full h-auto my-3"),h(s,"class","text-sm text-gray-500")},m(i,o){x(i,e,o),x(i,n,o),x(i,s,o)},p(i,o){o[0]&12&&!De(e.src,t=i[58].content)&&h(e,"src",t)},i:H,o:H,d(i){i&&E(e),i&&E(n),i&&E(s)}}}function Wi(r){return{c:H,m:H,d:H}}function Qi(r){return{c:H,m:H,d:H}}function Ki(r){let e,t,n,s,i;function o(){return r[41](r[58])}return{c(){e=y("button"),t=y("img"),h(t,"class","copy-icon"),h(t,"alt","Copy"),De(t.src,n=Sd)||h(t,"src",n),h(e,"class","copyButton w-5")},m(l,a){x(l,e,a),g(e,t),s||(i=Y(e,"click",o),s=!0)},p(l,a){r=l},d(l){l&&E(e),s=!1,i()}}}function Xi(r){let e,t;return e=new Zd({props:{convId:r[2],anchorIndex:r[60]}}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},p(n,s){const i={};s[0]&4&&(i.convId=n[2]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function eo(r){let e,t,n=r[58].role!=="system"&&Zi(r);return{c(){n&&n.c(),e=Ae()},m(s,i){n&&n.m(s,i),x(s,e,i),t=!0},p(s,i){s[58].role!=="system"?n?(n.p(s,i),i[0]&12&&R(n,1)):(n=Zi(s),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(we(),F(n,1,1,()=>{n=null}),ve())},i(s){t||(R(n),t=!0)},o(s){F(n),t=!1},d(s){n&&n.d(s),s&&E(e)}}}function up(r){let e,t,n,s,i,o,l;function a(d,p){return d[12]===0?dp:fp}let u=a(r),c=u(r),f=r[12]>0&&to(r);return{c(){e=y("input"),t=$(),n=y("label"),c.c(),s=$(),f&&f.c(),i=Ae(),h(e,"type","file"),h(e,"id","pdfUpload"),h(e,"accept","application/pdf"),h(e,"class","file-input"),h(n,"for","pdfUpload"),h(n,"class","file-label bg-chat rounded py-2 px-4 mx-1 cursor-pointer hover:bg-hover2 transition-colors")},m(d,p){x(d,e,p),r[47](e),x(d,t,p),x(d,n,p),c.m(n,null),x(d,s,p),f&&f.m(d,p),x(d,i,p),o||(l=Y(e,"change",r[46]),o=!0)},p(d,p){u===(u=a(d))&&c?c.p(d,p):(c.d(1),c=u(d),c&&(c.c(),c.m(n,null))),d[12]>0?f?f.p(d,p):(f=to(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},d(d){d&&E(e),r[47](null),d&&E(t),d&&E(n),c.d(),d&&E(s),f&&f.d(d),d&&E(i),o=!1,l()}}}function cp(r){let e,t,n,s,i,o,l;function a(d,p){return d[11]>0?hp:pp}let u=a(r),c=u(r),f=r[11]>0&&no(r);return{c(){e=y("input"),t=$(),n=y("label"),c.c(),s=$(),f&&f.c(),i=Ae(),h(e,"type","file"),h(e,"id","imageUpload"),e.multiple=!0,h(e,"accept","image/*"),h(e,"class","file-input"),h(n,"for","imageUpload"),h(n,"class","file-label bg-chat rounded py-2 px-4 mx-1 cursor-pointer hover:bg-hover2 transition-colors")},m(d,p){x(d,e,p),r[45](e),x(d,t,p),x(d,n,p),c.m(n,null),x(d,s,p),f&&f.m(d,p),x(d,i,p),o||(l=Y(e,"change",Wa),o=!0)},p(d,p){u===(u=a(d))&&c?c.p(d,p):(c.d(1),c=u(d),c&&(c.c(),c.m(n,null))),d[11]>0?f?f.p(d,p):(f=no(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},d(d){d&&E(e),r[45](null),d&&E(t),d&&E(n),c.d(),d&&E(s),f&&f.d(d),d&&E(i),o=!1,l()}}}function fp(r){let e,t;return{c(){e=y("span"),t=X(r[12]),h(e,"class","fileCount")},m(n,s){x(n,e,s),g(e,t)},p(n,s){s[0]&4096&&be(t,n[12])},d(n){n&&E(e)}}}function dp(r){let e,t;return{c(){e=y("img"),De(e.src,t=Ed)||h(e,"src",t),h(e,"alt","PDF"),h(e,"class","pdf-icon icon-white")},m(n,s){x(n,e,s)},p:H,d(n){n&&E(e)}}}function to(r){let e,t,n;return{c(){e=y("button"),e.textContent="X",h(e,"class","clear-btn px-4 rounded-lg bg-red-700 mx-2 hover:bg-red-500")},m(s,i){x(s,e,i),t||(n=Y(e,"click",r[23]),t=!0)},p:H,d(s){s&&E(e),t=!1,n()}}}function pp(r){let e,t;return{c(){e=y("img"),De(e.src,t=Od)||h(e,"src",t),h(e,"alt","Upload"),h(e,"class","upload-icon icon-white")},m(n,s){x(n,e,s)},p:H,d(n){n&&E(e)}}}function hp(r){let e,t;return{c(){e=y("span"),t=X(r[11]),h(e,"class","fileCount")},m(n,s){x(n,e,s),g(e,t)},p(n,s){s[0]&2048&&be(t,n[11])},d(n){n&&E(e)}}}function no(r){let e,t,n;return{c(){e=y("button"),e.textContent="X",h(e,"class","clear-btn")},m(s,i){x(s,e,i),t||(n=Y(e,"click",r[23]),t=!0)},p:H,d(s){s&&E(e),t=!1,n()}}}function gp(r){let e,t;return{c(){e=y("img"),h(e,"class","icon-white min-w-[24px] w-[24px]"),h(e,"alt","Send"),De(e.src,t=Ad)||h(e,"src",t)},m(n,s){x(n,e,s)},p:H,d(n){n&&E(e)}}}function mp(r){let e,t;return{c(){e=y("img"),h(e,"class","icon-white min-w-[24px] w-[24px]"),h(e,"alt","Wait"),De(e.src,t=Td)||h(e,"src",t)},m(n,s){x(n,e,s)},p:H,d(n){n&&E(e)}}}function so(r){let e,t;return e=new qd({}),{c(){ue(e.$$.fragment)},m(n,s){oe(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function _p(r){let e,t,n,s,i,o,l,a,u,c,f,d,p,k,v,_,T,m,w,b,S,A,P,I,O,M,L,N,Z,D,q,ke;function se(V,ae){return V[3].length>0&&V[3][V[2]]?Qd:Wd}let C=se(r),z=C(r),G=r[16]&&zi(),W=r[17]&&qi();o=new Ru({}),o.$on("new-chat",r[34]);function Q(V){r[35](V)}let re={};r[8]!==void 0&&(re.conversation_title=r[8]),u=new ku({props:re}),lt.push(()=>ol(u,"conversation_title",Q)),u.$on("new-chat",To);function he(V,ae){return V[18]&&V[18].length>0?Xd:Kd}let ie=he(r),Oe=ie(r);const Ue=[tp,ep],Ee=[];function Le(V,ae){return V[3].length>0&&V[3][V[2]]?0:1}w=Le(r),b=Ee[w]=Ue[w](r);function He(V,ae){if(V[14])return cp;if(V[13])return up}let ce=He(r),fe=ce&&ce(r);function j(V,ae){return V[20]?mp:gp}let K=j(r),_e=K(r),te=r[21]&&so();return{c(){e=y("title"),z.c(),t=$(),G&&G.c(),n=$(),W&&W.c(),s=$(),i=y("main"),ue(o.$$.fragment),l=$(),a=y("div"),ue(u.$$.fragment),f=$(),d=y("div"),p=y("div"),k=y("label"),k.textContent="Current Model:",v=$(),_=y("select"),Oe.c(),T=$(),m=y("div"),b.c(),S=$(),A=y("div"),P=y("div"),fe&&fe.c(),I=$(),O=y("textarea"),M=$(),L=y("button"),_e.c(),Z=$(),te&&te.c(),h(k,"for","current-model-select"),h(k,"class","mr-2"),h(_,"id","current-model-select"),h(_,"class","bg-primary text-white/80 p-1 rounded border border-gray-500"),r[15]===void 0&&ut(()=>r[36].call(_)),h(p,"class","font-bold text-l"),h(d,"class","py-5 bg-primary px-5 flex flex-row justify-between flex-wrap-reverse"),h(m,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow"),h(O,"class","w-full min-h-[96px] h-24 rounded-lg p-2 mx-1 mr-0 border-t-2 border-b-2 border-l-2 rounded-r-none bg-primary border-gray-500 resize-none focus:outline-none"),h(O,"placeholder","Type your message..."),gt(O,"height","96px"),gt(O,"overflow-y","auto"),gt(O,"overflow","visible",1),h(L,"class","bg-chat rounded-lg py-2 px-4 mx-1 ml-0 border-t-2 border-b-2 border-r-2 border-gray-500 rounded-l-none cursor-pointer "),L.disabled=N=!r[20]&&!r[4].trim().length,h(P,"class","inputbox flex flex-1 bg-primary mt-auto mx-auto max-w-3xl mb-3"),h(A,"class","inputbox-container w-full flex justify-center items-center bg-primary"),h(a,"class","h-screen flex justify-stretch flex-col md:ml-[260px] bg-secondary text-white/80 height-manager main-content-area"),h(i,"class","bg-primary overflow-hidden")},m(V,ae){x(V,e,ae),z.m(e,null),x(V,t,ae),G&&G.m(V,ae),x(V,n,ae),W&&W.m(V,ae),x(V,s,ae),x(V,i,ae),oe(o,i,null),g(i,l),g(i,a),oe(u,a,null),g(a,f),g(a,d),g(d,p),g(p,k),g(p,v),g(p,_),Oe.m(_,null),Ze(_,r[15]),g(a,T),g(a,m),Ee[w].m(m,null),r[44](m),g(a,S),g(a,A),g(A,P),fe&&fe.m(P,null),g(P,I),g(P,O),r[48](O),tt(O,r[4]),g(P,M),g(P,L),_e.m(L,null),g(a,Z),te&&te.m(a,null),D=!0,q||(ke=[Y(_,"change",r[36]),Y(O,"input",r[49]),Y(O,"input",qo),Y(O,"keydown",r[50]),Y(L,"click",r[51])],q=!0)},p(V,ae){C===(C=se(V))&&z?z.p(V,ae):(z.d(1),z=C(V),z&&(z.c(),z.m(e,null))),V[16]?G?(G.p(V,ae),ae[0]&65536&&R(G,1)):(G=zi(),G.c(),R(G,1),G.m(n.parentNode,n)):G&&(we(),F(G,1,1,()=>{G=null}),ve()),V[17]?W?ae[0]&131072&&R(W,1):(W=qi(),W.c(),R(W,1),W.m(s.parentNode,s)):W&&(we(),F(W,1,1,()=>{W=null}),ve());const vt={};!c&&ae[0]&256&&(c=!0,vt.conversation_title=V[8],sl(()=>c=!1)),u.$set(vt),ie===(ie=he(V))&&Oe?Oe.p(V,ae):(Oe.d(1),Oe=ie(V),Oe&&(Oe.c(),Oe.m(_,null))),ae[0]&819200&&Ze(_,V[15]);let Xe=w;w=Le(V),w===Xe?Ee[w].p(V,ae):(we(),F(Ee[Xe],1,1,()=>{Ee[Xe]=null}),ve(),b=Ee[w],b?b.p(V,ae):(b=Ee[w]=Ue[w](V),b.c()),R(b,1),b.m(m,null)),ce===(ce=He(V))&&fe?fe.p(V,ae):(fe&&fe.d(1),fe=ce&&ce(V),fe&&(fe.c(),fe.m(P,I))),ae[0]&16&&tt(O,V[4]),K===(K=j(V))&&_e?_e.p(V,ae):(_e.d(1),_e=K(V),_e&&(_e.c(),_e.m(L,null))),(!D||ae[0]&1048592&&N!==(N=!V[20]&&!V[4].trim().length))&&(L.disabled=N),V[21]?te?ae[0]&2097152&&R(te,1):(te=so(),te.c(),R(te,1),te.m(a,null)):te&&(we(),F(te,1,1,()=>{te=null}),ve())},i(V){D||(R(G),R(W),R(o.$$.fragment,V),R(u.$$.fragment,V),R(b),R(te),D=!0)},o(V){F(G),F(W),F(o.$$.fragment,V),F(u.$$.fragment,V),F(b),F(te),D=!1},d(V){V&&E(e),z.d(),V&&E(t),G&&G.d(V),V&&E(n),W&&W.d(V),V&&E(s),V&&E(i),le(o),le(u),Oe.d(),Ee[w].d(),r[44](null),fe&&fe.d(),r[48](null),_e.d(),te&&te.d(),q=!1,Ve(ke)}}}const bp=300;function qo(r){r.target.style.height="inherit";const e=window.getComputedStyle(r.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+r.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10);r.target.style.height=`${Math.min(t,bp)}px`}function cs(r){return!/\s/.test(r)&&r.includes("blob.core.windows.net")&&/rsct=image\/(jpeg|jpg|gif|png|bmp)/i.test(r)}function yp(r,e,t){let n,s,i,o,l,a,u,c,f,d,p,k,v,_,T;de(r,Ce,U=>t(15,i=U)),de(r,Ne,U=>t(2,o=U)),de(r,ye,U=>t(3,l=U)),de(r,Dt,U=>t(29,a=U)),de(r,yt,U=>t(30,u=U)),de(r,Mr,U=>t(31,c=U)),de(r,bs,U=>t(32,f=U)),de(r,Yt,U=>t(16,d=U)),de(r,Zt,U=>t(17,p=U)),de(r,Tt,U=>t(18,k=U)),de(r,nn,U=>t(19,v=U)),de(r,Ge,U=>t(20,_=U)),de(r,Wt,U=>t(21,T=U));let m,w,b="",S,A,P,I="",O,M="",L=null,N="";async function Z(U){P=U.target.files[0],P&&(t(28,I=await $d(P)),console.log(I))}function D(){Dt.set([]),P=null,t(28,I=""),t(1,w.value="",w)}let q=null;function ke(){if(!O)return;const U={childList:!0,subtree:!0,characterData:!0};q=new MutationObserver((Qe,st)=>{}),q.observe(O,U)}rn(async()=>{await pu(),ke()}),Ko(()=>{q&&(q.disconnect(),q=null),hu()});function se(){let U=o;Kr(i),Lr(b,U,I),t(4,b=""),D(),t(5,S.style.height="96px",S)}Qo(()=>{l[o]?.history.length});let C=0,z=0;function G(U){t(9,L=U),t(10,N=l[o].history[U].content)}function W(){t(9,L=null),t(10,N=""),t(6,A.style.height="96px",A)}function Q(U){const Qe=N,st=l[o].history.length-U;for(let zt=0;zt<st;zt++)Ur(l[o].history.length-1);let Vt=o;Kr(i),Lr(Qe,Vt,I),W()}const re=(U,Qe)=>Qe.id===U.id,he=()=>To();function ie(U){M=U,t(8,M),t(2,o),t(3,l)}function Oe(){i=St(this),Ce.set(i)}function Ue(U){lt[U?"unshift":"push"](()=>{A=U,t(6,A)})}function Ee(){N=this.value,t(10,N)}const Le=U=>Q(U),He=()=>W(),ce=U=>Ca(U.content),fe=U=>G(U),j=U=>Ur(U);function K(U){lt[U?"unshift":"push"](()=>{O=U,t(7,O)})}function _e(U){lt[U?"unshift":"push"](()=>{m=U,t(0,m),t(32,f)})}const te=U=>Z(U);function V(U){lt[U?"unshift":"push"](()=>{w=U,t(1,w),t(31,c)})}function ae(U){lt[U?"unshift":"push"](()=>{S=U,t(5,S)})}function vt(){b=this.value,t(4,b)}const Xe=U=>{const Qe=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);!_&&U.key==="Enter"&&!U.shiftKey&&!U.ctrlKey&&!U.metaKey&&!Qe?(U.preventDefault(),se()):!_&&U.key},et=()=>{_?su():se()};return r.$$.update=()=>{if(r.$$.dirty[0]&1|r.$$.dirty[1]&2&&f&&m&&(t(0,m.value="",m),bs.set(!1)),r.$$.dirty[0]&2|r.$$.dirty[1]&1&&c&&w&&(t(1,w.value="",w),Mr.set(!1)),r.$$.dirty[0]&12){const U=o,Qe=l,st=l.length;U!==void 0&&Qe[U]&&t(8,M=Qe[U].title||"New Conversation"),(U==null||U<0||U>=st)&&(console.log("changing conversation from ID",o),Ne.set(st>0?st-1:null),console.log("to ID",o))}r.$$.dirty[0]&1073741824&&t(14,n=u.includes("Vision")),r.$$.dirty[0]&1073741824&&t(13,s=u.includes("GPT")),r.$$.dirty[0]&12&&t(8,M=l[o]?l[o].title:"ChatGPT"),r.$$.dirty[0]&536870912&&t(11,C=a.length),r.$$.dirty[0]&268435456&&(I?t(12,z=1):t(12,z=0))},[m,w,o,l,b,S,A,O,M,L,N,C,z,s,n,i,d,p,k,v,_,T,Z,D,se,G,W,Q,I,a,u,c,f,re,he,ie,Oe,Ue,Ee,Le,He,ce,fe,j,K,_e,te,V,ae,vt,Xe,et]}class wp extends me{constructor(e){super(),ge(this,e,yp,_p,pe,{},null,[-1,-1,-1])}}const vp=""+new URL("chat-431b71cc.svg",import.meta.url).href;new wp({target:document.getElementById("app")});window.addEventListener("load",()=>{const r=document.querySelector('link[rel="icon"]');r&&r.setAttribute("href",vp)});export{Rd as _};
